[
    {
        "id": "c5ac49a9.bb32a8",
        "type": "tab",
        "label": "help + init",
        "disabled": false,
        "info": ""
    },
    {
        "id": "0a95fc58e05b2e07",
        "type": "tab",
        "label": "test",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "105cbc6410fe5e77",
        "type": "tab",
        "label": "OEC GW",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b1082b07.22e178",
        "type": "tab",
        "label": "MyApp",
        "disabled": false,
        "info": ""
    },
    {
        "id": "902d4972.d3b7a8",
        "type": "tab",
        "label": "MyDevice",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c38c2dc5.8f31d",
        "type": "mqtt-broker",
        "name": "MyApp-MQTT-Client_v1.0",
        "broker": "192.168.73.146",
        "port": "1883",
        "tls": "74f0f04f.2e894",
        "clientid": "MyApp",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "sessionExpiry": ""
    },
    {
        "id": "74f0f04f.2e894",
        "type": "tls-config",
        "name": "",
        "cert": "",
        "key": "",
        "ca": "",
        "certname": "",
        "keyname": "",
        "caname": "",
        "servername": "",
        "verifyservercert": false,
        "alpnprotocol": ""
    },
    {
        "id": "43c3327d.03da5c",
        "type": "mqtt-broker",
        "name": "OEC-GW-MQTT-Client_v1.0",
        "broker": "192.168.73.146",
        "port": "1883",
        "tls": "699df6a6.d9d768",
        "clientid": "OEC-GW-MQTT-Client",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "sessionExpiry": ""
    },
    {
        "id": "699df6a6.d9d768",
        "type": "tls-config",
        "name": "",
        "cert": "",
        "key": "",
        "ca": "",
        "certname": "",
        "keyname": "",
        "caname": "",
        "servername": "",
        "verifyservercert": false
    },
    {
        "id": "65d0408b01a41c33",
        "type": "comment",
        "z": "c5ac49a9.bb32a8",
        "name": "Common information",
        "info": "# help + Init\n\n**help + Init** contains some basic help information (like this) and some global pre-configurations, like a list of OI4-defined DataSetClassIds.\n\n\n# test\n**test** contains some test and monitor flows to use during evaluation.\n\n\n# OEC GW\n**OEC GW** simulates a 'host service' belonging to the used Edge Gateway. It provides the Edge Device representation in the Message Bus.\nTo do so, the **OEC GW** is represented through an own MQTT Client. The related configuration Node is called 'OEC-GW-MQTT-Client'.\n> In case your Edge Device already provides an OI4 conform representation on the Message Bus, just disable the register **OEC GW**.\n\n\n# MyApp\n**MyApp** represents an OI4 conform application - in this case something like a protocol adapter (serviceType = OTConnector). \n\n**MyApp**, with the oi4Identifier created in function node `MyApp/init`, is the publischer from its own messages and of any messages provided from any detected devices (e.g. **MyDevice**). \nTherefore the `PublisherId` always contains the `oi4Identifier` from the application.\n\n\n# MyDevice\n**MyDevice** emulates a device which was detected from **MyApp**.\nIndeed the application detected \"some how\" a device, found out what Master Asset Model, etc. it has and provides this information to the Message Bus.\n\n**MyDevice** can not publish straight to the message bus - but this is, what **MyApp** is made for.\n\n**MyDevice** with the oi4Identifier created in function node `MyDevice/init` is the source of the device specific information.\n\n> Remember, the `PublisherId` contains the `oi4Identifier` from the publisher, which is always **MyApp**.\n\n\n# Difference between **explicit** and **summarized** NetworkMessages\nIn the registers **OEC GW**, **MyApp** and **MyDevice**, several `mqtt_in` nodes are configured to subscribe to explicite topics such as `oi4/<serviceType>/<appId>/get/<resource>/<subResource>/<filter>` and to summarized topics such as `oi4/<serviceType>/<appId>/get/<resource>`. Depending of the incomming topic, the `mqtt_out` nodes will be used to publish explicit or summarized information.\n\n### Explicit\nExplicite NetworkMessages containing only a \"single information\", e.g. only a specific mam or a specific health from a specific asset. Topics to explicit NetworkMessages containing a `<subResource>` and a `<filter>`.\nIn most cases a \"single information\" meant only one DataSetMessage is included. For some resources, such as publicationList, the `<filter>` filters a bunch of DataSetMessages of a specific kind.\n\n\n### Summarized Networkmessage\nSummarized NetworkMessages containing several DataSetMessages of the same resource. E.g. to provide all mam DataSetMessages, no `<filter>` is needed in topic.",
        "x": 130,
        "y": 60,
        "wires": []
    },
    {
        "id": "5460861fd3fa8fb6",
        "type": "function",
        "z": "c5ac49a9.bb32a8",
        "name": "",
        "func": "//global definition of DataSetClassIDs are defined here\nvar DataSetClassId = {};\nDataSetClassId.helper = \"Find here all predefined DataSetClassIds which may be used in this example\";\nDataSetClassId.mam = \"360ca8f3-5e66-42a2-8f10-9cdf45f4bf58\";\nDataSetClassId.health = \"d8e7b6df-42ba-448a-975a-199f59e8ffeb\";\nDataSetClassId.license = \"2ae0505e-2830-4980-b65e-0bbdf08e2d45\";\nDataSetClassId.licenseText = \"a6e6c727-4057-419f-b2ea-3fe9173e71cf\";\nDataSetClassId.rtLicense = \"ebd12d4b-da1c-4671-ab86-db102fecc603\";\nDataSetClassId.event = \"543ae05e-b6d9-4161-a0a3-350a0fac5976\";\nDataSetClassId.profile = \"48017c6a-05c8-48d7-9d85-4b08bbb707f3\";\nDataSetClassId.config = \"9d5983db-440d-4474-9fd7-1cd7a6c8b6c2\";\nDataSetClassId.publicationList = \"217434d6-6e1e-4230-b907-f52bc9ffe152\";\nDataSetClassId.subscriptionList = \"e5d68c47-c276-4929-8ab9-4c1090cac785\";\nDataSetClassId.interfaces = \"96d22d73-bce6-42d3-9949-45e0d04e4d54\";\nDataSetClassId.referenceDesignation = \"27a75019-164a-496d-a38b-90e8a55c2cfa\";\n\nglobal.set(\"DSCI\", DataSetClassId);\n\nnode.warn(DataSetClassId);\n\n//Topics are having a minimum and a maximum cont of hirarchy elements.\n//  A summarizes NetworkMessage has a topic with 7 hirarchy elements.\n//  An explicit NetworkMessage has between 8 and 11 hirarchy elements.\nglobal.set(\"TopicHirarchyLengthShortest\", 7);    //e.g. \"oi4/serviceType/appId/method/resource\"\nglobal.set(\"TopicHirarchyLengthMiddle\", 11);     //e.g. \"oi4/serviceType/appId/method/resource/oi4Identifier\"\nglobal.set(\"TopicHirarchyLengthLongest\", 13);    //e.g. \"oi4/serviceType/appId/method/resource/oi4Identifier/filter\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "68b848ffbe9ed7ce",
        "type": "inject",
        "z": "c5ac49a9.bb32a8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 160,
        "wires": [
            [
                "5460861fd3fa8fb6"
            ]
        ]
    },
    {
        "id": "b684674ff37651d2",
        "type": "comment",
        "z": "c5ac49a9.bb32a8",
        "name": "Globl Settings (e.g. GUIDs, variales, etc.)",
        "info": "The DataSetClassIDs, defined in OEC Development Guideline are prepared here for global usage in Node-RED.\n\nOther global settings might be specified here as well.",
        "x": 195,
        "y": 117,
        "wires": []
    },
    {
        "id": "ddfe3afeb91d5bdc",
        "type": "status",
        "z": "0a95fc58e05b2e07",
        "name": "status MQTT",
        "scope": [
            "06adc6b07f3e904f"
        ],
        "x": 110,
        "y": 100,
        "wires": [
            [
                "96e81959b8ba052e"
            ]
        ]
    },
    {
        "id": "96e81959b8ba052e",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 250,
        "y": 100,
        "wires": []
    },
    {
        "id": "d7c86ca34f06ae5a",
        "type": "catch",
        "z": "0a95fc58e05b2e07",
        "name": "catch MQTT",
        "scope": [
            "06adc6b07f3e904f"
        ],
        "uncaught": false,
        "x": 110,
        "y": 149,
        "wires": [
            [
                "def9d69f9f607c36"
            ]
        ]
    },
    {
        "id": "def9d69f9f607c36",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 250,
        "y": 149,
        "wires": []
    },
    {
        "id": "b3ad528608dcda28",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "Monitor MQTT connection state",
        "info": "This tab and its flows might help to debug and understand the MQTT communication.\n\nFirst see the connection state of the MQTT Client, communicating  to the MQTT Broker.\n\nLater on, a bunch of filters are predefined to filter specific OI4 functionalities.",
        "x": 170,
        "y": 60,
        "wires": []
    },
    {
        "id": "1a085a83f7defad1",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "Mirror all OI4 related MQTT traffic",
        "info": "Switch on the filters (debug nodes), you want to monitor.",
        "x": 170,
        "y": 280,
        "wires": []
    },
    {
        "id": "06adc6b07f3e904f",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all oi4 related traffic",
        "topic": "oi4/#",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 420,
        "y": 340,
        "wires": [
            [
                "fd35ccaba930b473"
            ]
        ]
    },
    {
        "id": "fd35ccaba930b473",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 340,
        "wires": [
            [
                "396e893948903aea"
            ]
        ]
    },
    {
        "id": "396e893948903aea",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 340,
        "wires": []
    },
    {
        "id": "3bfa4540e623fb5c",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all health",
        "topic": "oi4/+/+/+/+/+/+/health/+/+/+/+",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 390,
        "y": 520,
        "wires": [
            [
                "e9431abcfc02d078"
            ]
        ]
    },
    {
        "id": "e9431abcfc02d078",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 520,
        "wires": [
            [
                "8cad437f31a27b4c"
            ]
        ]
    },
    {
        "id": "8cad437f31a27b4c",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 520,
        "wires": []
    },
    {
        "id": "3b047f06f135524c",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all data",
        "topic": "oi4/+/+/+/+/+/+/data/#",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 380,
        "y": 1120,
        "wires": [
            [
                "6aec243472d70ea5"
            ]
        ]
    },
    {
        "id": "6aec243472d70ea5",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1120,
        "wires": [
            [
                "48f2de7186fdddd7"
            ]
        ]
    },
    {
        "id": "48f2de7186fdddd7",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1120,
        "wires": []
    },
    {
        "id": "a652035a24e37736",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all mam",
        "topic": "oi4/+/+/+/+/+/+/mam/+/+/+/+",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 390,
        "y": 400,
        "wires": [
            [
                "1884dee1e285c50d"
            ]
        ]
    },
    {
        "id": "1884dee1e285c50d",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 400,
        "wires": [
            [
                "b32478a9fbb3e993"
            ]
        ]
    },
    {
        "id": "b32478a9fbb3e993",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 400,
        "wires": []
    },
    {
        "id": "53729402cf03d4a4",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all profile",
        "topic": "oi4/+/+/+/+/+/+/profile/+/+/+/+",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 390,
        "y": 1840,
        "wires": [
            [
                "5aad7040e4ba631d"
            ]
        ]
    },
    {
        "id": "5aad7040e4ba631d",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1840,
        "wires": [
            [
                "affb4f343c220510"
            ]
        ]
    },
    {
        "id": "affb4f343c220510",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1840,
        "wires": []
    },
    {
        "id": "83d357179447ef42",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all license",
        "topic": "oi4/+/+/+/+/+/+/license/#",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 390,
        "y": 760,
        "wires": [
            [
                "56e1973db702fac8"
            ]
        ]
    },
    {
        "id": "56e1973db702fac8",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 760,
        "wires": [
            [
                "e1f14f43586dddfc"
            ]
        ]
    },
    {
        "id": "e1f14f43586dddfc",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 760,
        "wires": []
    },
    {
        "id": "783c6977c39d9920",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all licenseText",
        "topic": "oi4/+/+/+/+/+/+/licenseText/#",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 410,
        "y": 880,
        "wires": [
            [
                "b6160f146c1410a1"
            ]
        ]
    },
    {
        "id": "b6160f146c1410a1",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 880,
        "wires": [
            [
                "29ccf67440a2573e"
            ]
        ]
    },
    {
        "id": "29ccf67440a2573e",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 880,
        "wires": []
    },
    {
        "id": "37894b593624eb73",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all metadata",
        "topic": "oi4/+/+/+/+/+/+/metadata/#",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 400,
        "y": 1240,
        "wires": [
            [
                "9f98e386bb3a48e9"
            ]
        ]
    },
    {
        "id": "9f98e386bb3a48e9",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1240,
        "wires": [
            [
                "ac1739a6e0e63c5c"
            ]
        ]
    },
    {
        "id": "ac1739a6e0e63c5c",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1240,
        "wires": []
    },
    {
        "id": "ed303a52a9310422",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all mam summarization",
        "topic": "oi4/+/+/+/+/+/+/mam",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 430,
        "y": 460,
        "wires": [
            [
                "ac22ead74f7b14c7"
            ]
        ]
    },
    {
        "id": "ac22ead74f7b14c7",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 460,
        "wires": [
            [
                "1cc771841844dfc0"
            ]
        ]
    },
    {
        "id": "1cc771841844dfc0",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 460,
        "wires": []
    },
    {
        "id": "a0adac16ef25bc36",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all health summarization",
        "topic": "oi4/+/+/+/+/+/+/health",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 440,
        "y": 580,
        "wires": [
            [
                "02acd9f81350ce63"
            ]
        ]
    },
    {
        "id": "02acd9f81350ce63",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 580,
        "wires": [
            [
                "d570b399957c1883"
            ]
        ]
    },
    {
        "id": "d570b399957c1883",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 580,
        "wires": []
    },
    {
        "id": "c4f970977bbf274a",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all license summarization",
        "topic": "oi4/+/+/+/+/+/+/license",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "inputs": 0,
        "x": 440,
        "y": 820,
        "wires": [
            [
                "b4c8bc534d0ccc83"
            ]
        ]
    },
    {
        "id": "b4c8bc534d0ccc83",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 820,
        "wires": [
            [
                "baacc6f410433c1d"
            ]
        ]
    },
    {
        "id": "baacc6f410433c1d",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 820,
        "wires": []
    },
    {
        "id": "f185cf68222375be",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all licenseText summarization",
        "topic": "oi4/+/+/+/+/+/+/licenseText",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 450,
        "y": 940,
        "wires": [
            [
                "eda880340597977a"
            ]
        ]
    },
    {
        "id": "eda880340597977a",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 940,
        "wires": [
            [
                "80b4cfb642aba4be"
            ]
        ]
    },
    {
        "id": "80b4cfb642aba4be",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 940,
        "wires": []
    },
    {
        "id": "8cbb704f751f8d01",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all data summarization",
        "topic": "oi4/+/+/+/+/+/+/data",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 430,
        "y": 1180,
        "wires": [
            [
                "468290dd83a7161e"
            ]
        ]
    },
    {
        "id": "468290dd83a7161e",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1180,
        "wires": [
            [
                "dc8fe61d801461fc"
            ]
        ]
    },
    {
        "id": "dc8fe61d801461fc",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1180,
        "wires": []
    },
    {
        "id": "c654cbe95b236e5a",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all metadata summarization",
        "topic": "oi4/+/+/+/+/+/+/metadata",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 450,
        "y": 1300,
        "wires": [
            [
                "8cece4bcebcdd90d",
                "238fdc80e3883dab"
            ]
        ]
    },
    {
        "id": "8cece4bcebcdd90d",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1300,
        "wires": [
            [
                "eccdfbea91e6af94"
            ]
        ]
    },
    {
        "id": "eccdfbea91e6af94",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1300,
        "wires": []
    },
    {
        "id": "69f8a81a24c36e41",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "mam - 10.1.1",
        "info": "All OI4 **mam** related traffic. See OEC Development Guideline chapter 10.1.1 for details.",
        "x": 110,
        "y": 400,
        "wires": []
    },
    {
        "id": "b8d9fc8b81b415c5",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "health - 10.1.2",
        "info": "All OI4 **health** related traffic. See OEC Development Guideline chapter 10.1.2 for details.",
        "x": 110,
        "y": 520,
        "wires": []
    },
    {
        "id": "4de7a9affd241817",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "config - 10.1.3",
        "info": "All OI4 **config** related traffic. See OEC Development Guideline chapter 10.1.3 for details.",
        "x": 110,
        "y": 638,
        "wires": []
    },
    {
        "id": "eabe0efafc6ea34f",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "license - 10.1.4",
        "info": "All OI4 **license** related traffic. See OEC Development Guideline chapter 10.1.4 for details.",
        "x": 120,
        "y": 757,
        "wires": []
    },
    {
        "id": "858ec363da5d2fc5",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "licenseText - 10.1.5",
        "info": "All OI4 **licenseText** related traffic. See OEC Development Guideline chapter 10.1.5 for details.",
        "x": 130,
        "y": 881,
        "wires": []
    },
    {
        "id": "2690eacb5afb1693",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "rtLicense - 10.1.6",
        "info": "All OI4 **rtLicense** related traffic. See OEC Development Guideline chapter 10.1.6 for details.",
        "x": 120,
        "y": 1000,
        "wires": []
    },
    {
        "id": "748dace273a441e3",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "data - 10.1.7",
        "info": "All OI4 **data** related traffic. See OEC Development Guideline chapter 10.1.7 for details.",
        "x": 110,
        "y": 1121,
        "wires": []
    },
    {
        "id": "fdaebf0b3f8c5c3f",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "metadata - 10.1.8",
        "info": "All OI4 **metadata** related traffic. See OEC Development Guideline chapter 10.1.8 for details.",
        "x": 120,
        "y": 1241,
        "wires": []
    },
    {
        "id": "2d894c6578beea13",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "event - 10.1.9",
        "info": "All OI4 **event** related traffic. See OEC Development Guideline chapter 10.1.9 for details.",
        "x": 110,
        "y": 1360,
        "wires": []
    },
    {
        "id": "0529c9c7e4cd8d3d",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "profil - 10.1.10",
        "info": "All OI4 **profil** related traffic. See OEC Development Guideline chapter 10.1.10 for details.",
        "x": 110,
        "y": 1842,
        "wires": []
    },
    {
        "id": "e36b78c03b0cf1ca",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "publicationList - 10.1.11",
        "info": "All OI4 **punlicationList** related traffic. See OEC Development Guideline chapter 10.1.11 for details.",
        "x": 140,
        "y": 1960,
        "wires": []
    },
    {
        "id": "556eb1171c453705",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "subscriptionList - 10.1.12",
        "info": "All OI4 **subscriptionList** related traffic. See OEC Development Guideline chapter 10.1.12 for details.",
        "x": 150,
        "y": 2080,
        "wires": []
    },
    {
        "id": "86c2cc897424bac2",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all config",
        "topic": "oi4/+/+/+/+/+/+/config/#",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 390,
        "y": 640,
        "wires": [
            [
                "cced65651c839c05"
            ]
        ]
    },
    {
        "id": "cced65651c839c05",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 640,
        "wires": [
            [
                "beb33960fa80d5e7"
            ]
        ]
    },
    {
        "id": "beb33960fa80d5e7",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 640,
        "wires": []
    },
    {
        "id": "6594c0b855934d16",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all config summarization",
        "topic": "oi4/+/+/+/+/+/+/config",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "inputs": 0,
        "x": 440,
        "y": 700,
        "wires": [
            [
                "7d7b94ea93a191ba"
            ]
        ]
    },
    {
        "id": "7d7b94ea93a191ba",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 700,
        "wires": [
            [
                "9553b6eff951c325"
            ]
        ]
    },
    {
        "id": "9553b6eff951c325",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 700,
        "wires": []
    },
    {
        "id": "9092edd53ceb8c58",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all rtLicense",
        "topic": "oi4/+/+/+/+/+/+/rtLicense/#",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 400,
        "y": 1000,
        "wires": [
            [
                "0cbd1447d7f38e50"
            ]
        ]
    },
    {
        "id": "0cbd1447d7f38e50",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1000,
        "wires": [
            [
                "a1f0d77951e016fc"
            ]
        ]
    },
    {
        "id": "a1f0d77951e016fc",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1000,
        "wires": []
    },
    {
        "id": "9e4fa1efd1295d71",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all rtLicense summarization",
        "topic": "oi4/+/+/+/+/+/+/rtLicense",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 450,
        "y": 1060,
        "wires": [
            [
                "94d4fb0b8a234442"
            ]
        ]
    },
    {
        "id": "94d4fb0b8a234442",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1060,
        "wires": [
            [
                "76c289050384ef55"
            ]
        ]
    },
    {
        "id": "76c289050384ef55",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1060,
        "wires": []
    },
    {
        "id": "d50f8d8d76513338",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all event",
        "topic": "oi4/+/+/+/+/+/+/event/+/+",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 390,
        "y": 1360,
        "wires": [
            [
                "750e9c6bd76082ce"
            ]
        ]
    },
    {
        "id": "750e9c6bd76082ce",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1360,
        "wires": [
            [
                "ae3881154311d3d9"
            ]
        ]
    },
    {
        "id": "ae3881154311d3d9",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1360,
        "wires": []
    },
    {
        "id": "d039e250d554d2be",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all profile summarization",
        "topic": "oi4/+/+/+/+/+/+/profile",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 440,
        "y": 1900,
        "wires": [
            [
                "3676df62bfd98f29"
            ]
        ]
    },
    {
        "id": "3676df62bfd98f29",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1900,
        "wires": [
            [
                "b6dfed950e160b62"
            ]
        ]
    },
    {
        "id": "b6dfed950e160b62",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1900,
        "wires": []
    },
    {
        "id": "32a60c95e1165616",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "all oi4 traffic",
        "info": "All OI4 related traffic - no matter what resource or methode.",
        "x": 110,
        "y": 340,
        "wires": []
    },
    {
        "id": "3c17b39aaa76270c",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all publicationList",
        "topic": "oi4/+/+/+/+/+/+/publicationList/#",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 410,
        "y": 1960,
        "wires": [
            [
                "f4f9c81b16fcc7c5"
            ]
        ]
    },
    {
        "id": "f4f9c81b16fcc7c5",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1960,
        "wires": [
            [
                "a1b0c2d436b5829a"
            ]
        ]
    },
    {
        "id": "a1b0c2d436b5829a",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1960,
        "wires": []
    },
    {
        "id": "2b982f2bb55033e5",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all publicationList summarization",
        "topic": "oi4/+/+/+/+/+/+/publicationList",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 460,
        "y": 2020,
        "wires": [
            [
                "d0e5fc298c671f7b"
            ]
        ]
    },
    {
        "id": "d0e5fc298c671f7b",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 2020,
        "wires": [
            [
                "f0fd5915d0e245a5"
            ]
        ]
    },
    {
        "id": "f0fd5915d0e245a5",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 2020,
        "wires": []
    },
    {
        "id": "2c2c9a1c47ec8efe",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all subscriptionList",
        "topic": "oi4/+/+/+/+/+/+/subscriptionList/#",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 420,
        "y": 2080,
        "wires": [
            [
                "16dbab06aa5ad186"
            ]
        ]
    },
    {
        "id": "16dbab06aa5ad186",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 2080,
        "wires": [
            [
                "e5af51198b4c1558"
            ]
        ]
    },
    {
        "id": "e5af51198b4c1558",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 2080,
        "wires": []
    },
    {
        "id": "65240401a9e0e9af",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all subscriptionList summarization",
        "topic": "oi4/+/+/+/+/+/+/subscriptionList ",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 470,
        "y": 2140,
        "wires": [
            [
                "b2bff11bfbd89b2e"
            ]
        ]
    },
    {
        "id": "b2bff11bfbd89b2e",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 2140,
        "wires": [
            [
                "544320a09b7cd34d"
            ]
        ]
    },
    {
        "id": "544320a09b7cd34d",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 2140,
        "wires": []
    },
    {
        "id": "c1faa0f9bb988b85",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "interfaces - 10.1.13",
        "info": "All OI4 **interface** related traffic. See OEC Development Guideline chapter 10.1.13 for details.",
        "x": 130,
        "y": 2200,
        "wires": []
    },
    {
        "id": "9e3a6f113f745efc",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all interfaces",
        "topic": "oi4/+/+/+/+/+/+/interfaces/+/+/+/+",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 400,
        "y": 2200,
        "wires": [
            [
                "1b050a16e0764970"
            ]
        ]
    },
    {
        "id": "1b050a16e0764970",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 2200,
        "wires": [
            [
                "3577d96365286c3c"
            ]
        ]
    },
    {
        "id": "3577d96365286c3c",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 2200,
        "wires": []
    },
    {
        "id": "6b52b5792908252d",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all interfaces summarization",
        "topic": "oi4/+/+/+/+/+/+/interfaces",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 450,
        "y": 2260,
        "wires": [
            [
                "9ea20b2f906434cc"
            ]
        ]
    },
    {
        "id": "9ea20b2f906434cc",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 2260,
        "wires": [
            [
                "7c8b5b91d0416534"
            ]
        ]
    },
    {
        "id": "7c8b5b91d0416534",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 2260,
        "wires": []
    },
    {
        "id": "a1bcc20bc9249b65",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "referenceDesignation - 10.1.14",
        "info": "All OI4 **referenceDesignation** related traffic. See OEC Development Guideline chapter 10.1.14 for details.",
        "x": 170,
        "y": 2320,
        "wires": []
    },
    {
        "id": "82a5e928c784bab4",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all referenceDesignation",
        "topic": "oi4/+/+/+/+/+/+/referenceDesignation/+/+/+/+",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 440,
        "y": 2320,
        "wires": [
            [
                "16eed8e1e79c8e05"
            ]
        ]
    },
    {
        "id": "16eed8e1e79c8e05",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 2320,
        "wires": [
            [
                "5d54f73985f19e29"
            ]
        ]
    },
    {
        "id": "5d54f73985f19e29",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 2320,
        "wires": []
    },
    {
        "id": "a962e013543a333b",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all referenceDesignation summarization",
        "topic": "oi4/+/+/+/+/+/+/referenceDesignation",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 480,
        "y": 2380,
        "wires": [
            [
                "dda54b6736bfdcd4"
            ]
        ]
    },
    {
        "id": "dda54b6736bfdcd4",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 2380,
        "wires": [
            [
                "c47e91170d8716a2"
            ]
        ]
    },
    {
        "id": "c47e91170d8716a2",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 2380,
        "wires": []
    },
    {
        "id": "823cb8295c27fd90",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "Not allowed/specified!",
        "info": "A summarized metadata message is not specified, because a OPC UA Pubsub related metadata message is always explicit!",
        "x": 220,
        "y": 1300,
        "wires": [],
        "icon": "font-awesome/fa-flash"
    },
    {
        "id": "7a12a549b3509c7c",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get status event",
        "topic": "oi4/+/+/+/+/+/+/event/status/#",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 400,
        "y": 1600,
        "wires": [
            [
                "fc2e70aafcec1a15"
            ]
        ]
    },
    {
        "id": "fc2e70aafcec1a15",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1600,
        "wires": [
            [
                "8461ea7226efa51c"
            ]
        ]
    },
    {
        "id": "8461ea7226efa51c",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1600,
        "wires": []
    },
    {
        "id": "4e77e2cbd67e0234",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get syslog event",
        "topic": "oi4/+/+/+/+/+/+/event/syslog/#",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 400,
        "y": 1660,
        "wires": [
            [
                "ffa8e2c1f88f0da7"
            ]
        ]
    },
    {
        "id": "ffa8e2c1f88f0da7",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1660,
        "wires": [
            [
                "6f97ee3f93a5f9fe"
            ]
        ]
    },
    {
        "id": "6f97ee3f93a5f9fe",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1660,
        "wires": []
    },
    {
        "id": "396fc5378b6545bd",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get ne107 event",
        "topic": "oi4/+/+/+/+/+/+/event/ne107/#",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 400,
        "y": 1720,
        "wires": [
            [
                "fbb075c8eab1d003"
            ]
        ]
    },
    {
        "id": "fbb075c8eab1d003",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1720,
        "wires": [
            [
                "fb140c7335ddd139"
            ]
        ]
    },
    {
        "id": "fb140c7335ddd139",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1720,
        "wires": []
    },
    {
        "id": "f2a539785f454bb7",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get generic event",
        "topic": "oi4/+/+/+/+/+/+/event/generic/#",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 400,
        "y": 1780,
        "wires": [
            [
                "010c221367339bd5"
            ]
        ]
    },
    {
        "id": "010c221367339bd5",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1780,
        "wires": [
            [
                "f03586f3022bddd6"
            ]
        ]
    },
    {
        "id": "f03586f3022bddd6",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1780,
        "wires": []
    },
    {
        "id": "1abf654a2d833a38",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all event summarization",
        "topic": "oi4/+/+/+/+/+/+/event",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 430,
        "y": 1420,
        "wires": [
            [
                "1f24cd5b658385ca",
                "238fdc80e3883dab"
            ]
        ]
    },
    {
        "id": "1f24cd5b658385ca",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1420,
        "wires": [
            [
                "f02f42f8e216da9b"
            ]
        ]
    },
    {
        "id": "f02f42f8e216da9b",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1420,
        "wires": []
    },
    {
        "id": "f7aab6b588f77a4c",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "Not allowed/specified!",
        "info": "A summarized metadata message is not specified, because a OPC UA Pubsub related metadata message is always explicit!",
        "x": 220,
        "y": 1420,
        "wires": [],
        "icon": "font-awesome/fa-flash"
    },
    {
        "id": "479ae340090e5f2c",
        "type": "mqtt in",
        "z": "0a95fc58e05b2e07",
        "name": "get all event category summarization",
        "topic": "oi4/+/+/+/+/+/+/event/+",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 460,
        "y": 1480,
        "wires": [
            [
                "e193d38ea65d4eeb",
                "238fdc80e3883dab"
            ]
        ]
    },
    {
        "id": "e193d38ea65d4eeb",
        "type": "json",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 710,
        "y": 1480,
        "wires": [
            [
                "c01decd566d7f088"
            ]
        ]
    },
    {
        "id": "c01decd566d7f088",
        "type": "debug",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 871,
        "y": 1480,
        "wires": []
    },
    {
        "id": "dede0f563a8a0bf6",
        "type": "comment",
        "z": "0a95fc58e05b2e07",
        "name": "Not allowed/specified!",
        "info": "A summarized metadata message is not specified, because a OPC UA Pubsub related metadata message is always explicit!",
        "x": 220,
        "y": 1480,
        "wires": [],
        "icon": "font-awesome/fa-flash"
    },
    {
        "id": "238fdc80e3883dab",
        "type": "function",
        "z": "0a95fc58e05b2e07",
        "name": "",
        "func": "node.error (\"not allowed for events!\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 1540,
        "wires": [
            []
        ]
    },
    {
        "id": "62911f7ceb6b7547",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "This is the OI4 representation of an OI4 complient Edge Device (Edge Gateway)",
        "info": "This representation of a OEC Edge Device uses an own MQTT client and has no connection/interaction with the other flows like **MyApp** or **MyDevice**\n\nIf you want to use it in combination with AAS or other platforms in parallel, please change at least the serial number of the gateway to create a unique instance!\nTo do so change this:\n 1. Change at least the serialnumber in mam. Go to function node called `init` to do so.\n 2. Change at least the serialnumber in birth, disconnect and will message of the MQTT client. **Remember, it needs to be changed in topic and payload!**\n\n> **Attention:** Birth, will and disconnect messages are not yet configured in MQTT Client settings!",
        "x": 300,
        "y": 40,
        "wires": []
    },
    {
        "id": "d56e48a3.727168",
        "type": "inject",
        "z": "105cbc6410fe5e77",
        "name": "pub device",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "4",
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 340,
        "wires": [
            [
                "f8bd74f3.eae728"
            ]
        ]
    },
    {
        "id": "909175fa.99b5e8",
        "type": "debug",
        "z": "105cbc6410fe5e77",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1090,
        "y": 340,
        "wires": []
    },
    {
        "id": "b43c1de3.d1c8a",
        "type": "mqtt in",
        "z": "105cbc6410fe5e77",
        "name": "Master Asset Model",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "43c3327d.03da5c",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 190,
        "y": 280,
        "wires": [
            [
                "161c07b2.88a058"
            ]
        ]
    },
    {
        "id": "61ce008b.6527d",
        "type": "mqtt in",
        "z": "105cbc6410fe5e77",
        "name": "health",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "43c3327d.03da5c",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 150,
        "y": 440,
        "wires": [
            [
                "39c33bf1.9ef284"
            ]
        ]
    },
    {
        "id": "5c80ad13.893484",
        "type": "inject",
        "z": "105cbc6410fe5e77",
        "name": "pub health (Normal/0, 100%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"NORMAL_0\",\"healthScore\":100}}",
        "payloadType": "json",
        "x": 190,
        "y": 500,
        "wires": [
            [
                "479357d8.a52458"
            ]
        ]
    },
    {
        "id": "4a088cef.4276f4",
        "type": "inject",
        "z": "105cbc6410fe5e77",
        "name": "pub health (Failure/1, 0%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"FAILURE_1\",\"healthScore\":0}}",
        "payloadType": "json",
        "x": 171,
        "y": 540,
        "wires": [
            [
                "479357d8.a52458"
            ]
        ]
    },
    {
        "id": "161c07b2.88a058",
        "type": "json",
        "z": "105cbc6410fe5e77",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 280,
        "wires": [
            [
                "f8bd74f3.eae728"
            ]
        ]
    },
    {
        "id": "39c33bf1.9ef284",
        "type": "json",
        "z": "105cbc6410fe5e77",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 440,
        "wires": [
            [
                "479357d8.a52458"
            ]
        ]
    },
    {
        "id": "4fca289e.fb3738",
        "type": "mqtt in",
        "z": "105cbc6410fe5e77",
        "name": "profile",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "43c3327d.03da5c",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 150,
        "y": 1420,
        "wires": [
            [
                "37aac0bd.d3956"
            ]
        ]
    },
    {
        "id": "26e57cae.00e354",
        "type": "inject",
        "z": "105cbc6410fe5e77",
        "name": "pub profile",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 1480,
        "wires": [
            [
                "fb93762.1ede488"
            ]
        ]
    },
    {
        "id": "37aac0bd.d3956",
        "type": "json",
        "z": "105cbc6410fe5e77",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 1419,
        "wires": [
            [
                "fb93762.1ede488"
            ]
        ]
    },
    {
        "id": "38ef4654.08f68a",
        "type": "inject",
        "z": "105cbc6410fe5e77",
        "name": "pub health (ChekFunction/2, 80%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"CHECK_FUNCTION_2\",\"healthScore\":80}}",
        "payloadType": "json",
        "x": 200,
        "y": 580,
        "wires": [
            [
                "479357d8.a52458"
            ]
        ]
    },
    {
        "id": "e18a6bdd.be4ac8",
        "type": "inject",
        "z": "105cbc6410fe5e77",
        "name": "pub health (OffSpec/3, 70%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"OFF_SPEC_3\",\"healthScore\":70}}",
        "payloadType": "json",
        "x": 180,
        "y": 620,
        "wires": [
            [
                "479357d8.a52458"
            ]
        ]
    },
    {
        "id": "5e0e550f.7819bc",
        "type": "inject",
        "z": "105cbc6410fe5e77",
        "name": "pub health (MaintenanceRequired/4, 30%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"MAINTENANCE_REQUIRED_4\",\"healthScore\":30}}",
        "payloadType": "json",
        "x": 220,
        "y": 659,
        "wires": [
            [
                "479357d8.a52458"
            ]
        ]
    },
    {
        "id": "f9bb148c.852ff8",
        "type": "inject",
        "z": "105cbc6410fe5e77",
        "name": "pub health (undefined/7, 112%) !!!",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"UNDEF_7\",\"healthScore\":112}}",
        "payloadType": "json",
        "x": 190,
        "y": 697,
        "wires": [
            [
                "479357d8.a52458"
            ]
        ]
    },
    {
        "id": "f8bd74f3.eae728",
        "type": "function",
        "z": "105cbc6410fe5e77",
        "name": "Master Asset Model",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* \n  Do we have to manipulate the CorrelationId, \n  because request (get) comes from somewere? \n*/\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing CorrelationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"<timestamp + publisherId>\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"<serviceType>/<oi4Identifier of application container>\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": { }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.mam\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"gwDataSetWriterId\") + 1;\nmsg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"gwMAM.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmsg.payload.Messages[0].Timestamp = new Date().toISOString();\n\nmsg.payload.Messages[0].Payload = global.get(\"gwMAM\");\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/mam\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/mam/\" + global.get(\"gwMAM.ProductInstanceUri\");\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 280,
        "wires": [
            [
                "6de315cf.fe312c"
            ]
        ]
    },
    {
        "id": "479357d8.a52458",
        "type": "function",
        "z": "105cbc6410fe5e77",
        "name": "health",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\n/* We got fresh data direct from sensor */\nif (msg.payload.Payload !== undefined)\n{\n    var myPayload = msg.payload.Payload;\n}\n\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"health\": \"NORMAL_0\",\n                \"healthScore\": 100\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.health\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"gwDataSetWriterId\") + 2;\nmsg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"gwMAM.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmsg.payload.Messages[0].Timestamp = new Date().toISOString();\n\nif (myPayload !== undefined)\n{\n    msg.payload.Messages[0].Payload = myPayload;\n}\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/health\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/health/\" + global.get(\"gwMAM.ProductInstanceUri\");\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 526,
        "y": 440,
        "wires": [
            [
                "4a2b225d.441f6c"
            ]
        ]
    },
    {
        "id": "fb93762.1ede488",
        "type": "function",
        "z": "105cbc6410fe5e77",
        "name": "profile",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": [\n                    \"mam\",\n                    \"health\",\n                    \"profile\",\n                    \"license\",\n                    \"licenseText\",\n                    \"publicationList\",\n                    \"referenceDesignation\"\n                ]\n            }\n        }\n    ]\n};\n\n/*\n\"resource\": [\n                    \"mam\",\n                    \"health\",\n                    \"data\",\n                    \"metadata\",\n                    \"event\",\n                    \"profile\",\n                    \"publicationList\",\n                    \"interfaces\",\n                    \"referenceDesignation\"\n                ]\n*/\n\nmsg.payload.PublisherId = global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.profile\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"gwDataSetWriterId\") + 3;\nmsg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"gwMAM.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmsg.payload.Messages[0].Timestamp = new Date().toISOString();\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/profile\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/profile/\" + global.get(\"gwMAM.ProductInstanceUri\");\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 1419,
        "wires": [
            [
                "68274574.11b29c"
            ]
        ]
    },
    {
        "id": "62a15a55.b39c84",
        "type": "inject",
        "z": "105cbc6410fe5e77",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 110,
        "y": 140,
        "wires": [
            [
                "94c38df4.22e91"
            ]
        ]
    },
    {
        "id": "94c38df4.22e91",
        "type": "function",
        "z": "105cbc6410fe5e77",
        "name": "init",
        "func": "/*\n  Attention: \n  birth, will and close message must be updated separatly from this global settings!\n  Ther is no way to configure this MQTT client settings via js code here.\n  Also the topics of all mqtt-in nodes needs to be updated - therefore the debug \n  outputs of this function prints the calculated topics to all get-topics.\n*/\n\n/*\n  Define content of Master Asset Model aka \"name plate\"\n  As defined in v0.10 of Development Guideline\n*/\nvar gwMAM = {\n    \"Manufacturer\": {\n        \"locale\": \"en-US\",\n        \"text\": \"Hilscher Gesellschaft fr Systemautomation mbH\"\n    },\n    \"ManufacturerUri\": \"hilscher.com\",\n    \"Model\": {\n        \"locale\": \"en-US\",\n        \"text\": \"NIOT-E-TPI51-EN-RE\"\n    },\n    \"ProductCode\": \"1321.400\",\n    \"HardwareRevision\": \"1\",\n    \"SoftwareRevision\": \"2.2.0.2\",\n    \"DeviceRevision\": \"1\",\n    \"DeviceManual\": \"\",\n    \"DeviceClass\": \"Edge Gateway\",\n    \"SerialNumber\": \"22128\",\n    \"ProductInstanceUri\": \"\",\n    \"RevisionCounter\": 1,\n    \"Description\": {\n        \"locale\": \"en-US\",\n        \"text\": \"A compact Edge Gateway\"\n    }\n};\n\n\n/*\n  gwMAM.ProductInstanceUri is defined as valid URI, and is a valid oi4Identifier.\n  So myAppMAM.ManufacturerUri is not encoded, but all other fields are to avoid \n  special, url-related, characters.\n*/\ngwMAM.ProductInstanceUri = gwMAM.ManufacturerUri +\n                              \"/\" + encodeURIComponent(gwMAM.Model.text) +\n                              \"/\" + encodeURIComponent(gwMAM.ProductCode) +\n                              \"/\" + encodeURIComponent(gwMAM.SerialNumber);\nglobal.set(\"gwMAM\", gwMAM);\n\n\n/*\n  Each application is of a specific service type such as\n  Registry, OTConnector, Utility, Persistence, Aggregation or OOCConnector\n*/\nglobal.set(\"gwServiceType\", \"OTConnector\");\n\n\n/*\n  The DataSetWriterId of each DataSetMessage must be unique. As a helper, \n  this is a global offset, to make it easier to cut'n'past code.\n*/\nglobal.set(\"gwDataSetWriterId\", 0);\n\nvar msgMam = {};\nmsgMam.action         = \"subscribe\";\nmsgMam.topic          = [{}, {}];\nmsgMam.topic[0].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/mam\";\nmsgMam.topic[0].qos   = 0;\nmsgMam.topic[1].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/mam/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsgMam.topic[1].qos   = 0;\n\nvar msgHealth = {};\nmsgHealth.action         = \"subscribe\";\nmsgHealth.topic          = [{}, {}];\nmsgHealth.topic[0].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/health\";\nmsgHealth.topic[0].qos   = 0;\nmsgHealth.topic[1].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/health/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsgHealth.topic[1].qos   = 0;\n\nvar msgLic = {};\nmsgLic.action         = \"subscribe\";\nmsgLic.topic          = [{}, {}, {}];\nmsgLic.topic[0].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/license\";\nmsgLic.topic[0].qos   = 0;\nmsgLic.topic[1].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/license/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsgLic.topic[1].qos   = 0;\nmsgLic.topic[2].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/license/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/MyLic\";\nmsgLic.topic[2].qos   = 0;\n\nvar msgLicT = {};\nmsgLicT.action         = \"subscribe\";\nmsgLicT.topic          = [{}, {}, {}];\nmsgLicT.topic[0].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/licenseText\";\nmsgLicT.topic[0].qos   = 0;\nmsgLicT.topic[1].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/licenseText/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsgLicT.topic[1].qos   = 0;\nmsgLicT.topic[2].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/licenseText/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/MyLic\";\nmsgLicT.topic[2].qos   = 0;\n\nvar msgPro = {};\nmsgPro.action         = \"subscribe\";\nmsgPro.topic          = [{}, {}];\nmsgPro.topic[0].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/profile\";\nmsgPro.topic[0].qos   = 0;\nmsgPro.topic[1].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/profile/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsgPro.topic[1].qos   = 0;\n\nvar msgPL = {};\nmsgPL.action          = \"subscribe\";\nmsgPL.topic          = [{}, {}, {}];\nmsgPL.topic[0].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/publicationList\";\nmsgPL.topic[0].qos   = 0;\nmsgPL.topic[1].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/publicationList/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsgPL.topic[1].qos   = 0;\nmsgPL.topic[2].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/publicationList/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/mam\";\nmsgPL.topic[2].qos   = 0;\n\nvar msgRefDes = {};\nmsgRefDes.action         = \"subscribe\";\nmsgRefDes.topic          = [{}, {}];\nmsgRefDes.topic[0].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/referenceDesignation\";\nmsgRefDes.topic[0].qos   = 0;\nmsgRefDes.topic[1].topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/get/referenceDesignation/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsgRefDes.topic[1].qos   = 0;\n\nreturn [msgMam, msgHealth, msgLic, msgLicT, msgPro, msgPL, msgRefDes];",
        "outputs": 7,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 140,
        "wires": [
            [
                "a0c0d0a0.09e6f",
                "849215ced5afb8de"
            ],
            [
                "f461e2377bd4e95a"
            ],
            [
                "1274f59b69cc4f72"
            ],
            [
                "a285730d09a6e6e2"
            ],
            [
                "8cc746c45a222e3f"
            ],
            [
                "91684c14152561d5"
            ],
            [
                "e0dafb0f9d1834a8"
            ]
        ]
    },
    {
        "id": "7bd6791b.edd4d8",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "Initialization / ToDos",
        "info": "Initialize the Edge Device by configuring the global available name plate (aka MAM) and the oi4Identifier. Open the `init` node for this and change the content.",
        "x": 130,
        "y": 100,
        "wires": []
    },
    {
        "id": "a0c0d0a0.09e6f",
        "type": "debug",
        "z": "105cbc6410fe5e77",
        "name": "mam topic",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 100,
        "wires": []
    },
    {
        "id": "1676919b.aa34de",
        "type": "mqtt out",
        "z": "105cbc6410fe5e77",
        "name": "",
        "topic": "",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "43c3327d.03da5c",
        "x": 1070,
        "y": 280,
        "wires": []
    },
    {
        "id": "ce771c2f.4087e",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "mam - 10.1.1",
        "info": "See OEC Development Guideline chapter 10.1.1 for **mam** related details.",
        "x": 110,
        "y": 240,
        "wires": []
    },
    {
        "id": "a11c5a24.357298",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "health - 10.1.2",
        "info": "See OEC Development Guideline chapter 10.1.2 for **health** related details.",
        "x": 110,
        "y": 400,
        "wires": []
    },
    {
        "id": "7f0f1fd7.3d3c3",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "config - 10.1.3",
        "info": "See OEC Development Guideline chapter 10.1.3 for **config** related details.",
        "x": 110,
        "y": 760,
        "wires": []
    },
    {
        "id": "c9c29a29.e412e8",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "rtLicense - 10.1.6",
        "info": "See OEC Development Guideline chapter 10.1.6 for **rtLicense** related details.",
        "x": 120,
        "y": 1140,
        "wires": []
    },
    {
        "id": "d9817120.ea83a",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "data - 10.1.7",
        "info": "See OEC Development Guideline chapter 10.1.7 for **data** related details.",
        "x": 110,
        "y": 1191,
        "wires": []
    },
    {
        "id": "758ba2cc.1af7fc",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "metadata - 10.1.8",
        "info": "See OEC Development Guideline chapter 10.1.8 for **metadata** related details.",
        "x": 120,
        "y": 1251,
        "wires": []
    },
    {
        "id": "ba640e2d.22b3a",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "event - 10.1.9",
        "info": "See OEC Development Guideline chapter 10.1.9 for **event** related details.",
        "x": 110,
        "y": 1313,
        "wires": []
    },
    {
        "id": "717b0f7d.b80d7",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "profil - 10.1.10",
        "info": "See OEC Development Guideline chapter 10.1.10 for **profil** related details.",
        "x": 110,
        "y": 1379,
        "wires": []
    },
    {
        "id": "d09efa37.329ee8",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "publicationList - 10.1.11",
        "info": "See OEC Development Guideline chapter 10.1.11 for **publicationList** related details.",
        "x": 140,
        "y": 1540,
        "wires": []
    },
    {
        "id": "402034c.cb4b7cc",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "subscriptionList - 10.1.12",
        "info": "See OEC Development Guideline chapter 10.1.12 for **subscriptionList** related details.",
        "x": 150,
        "y": 1700,
        "wires": []
    },
    {
        "id": "104a278a.9d1f48",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "interfaces - 10.1.13",
        "info": "See OEC Development Guideline chapter 10.1.13 for **interfaces** related details.",
        "x": 130,
        "y": 1760,
        "wires": []
    },
    {
        "id": "4a2b225d.441f6c",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "health",
        "links": [
            "6a4ef29b.a35eec",
            "8a061c18.0cd43"
        ],
        "x": 911,
        "y": 441,
        "wires": []
    },
    {
        "id": "6de315cf.fe312c",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "mam",
        "links": [
            "6a4ef29b.a35eec",
            "8a061c18.0cd43"
        ],
        "x": 915,
        "y": 280,
        "wires": []
    },
    {
        "id": "6a4ef29b.a35eec",
        "type": "link in",
        "z": "105cbc6410fe5e77",
        "name": "mqtt out",
        "links": [
            "4a2b225d.441f6c",
            "5a7c06fe.9f6888",
            "672d7c4a.fdca94",
            "68274574.11b29c",
            "6de315cf.fe312c",
            "7bd646596752d617",
            "b6b6bd1f.af07a"
        ],
        "x": 975,
        "y": 280,
        "wires": [
            [
                "1676919b.aa34de",
                "909175fa.99b5e8"
            ]
        ]
    },
    {
        "id": "525713b0.8b056c",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "Attention: Not yet fully defined!",
        "info": "",
        "x": 460,
        "y": 1760,
        "wires": []
    },
    {
        "id": "c075d9a9.450758",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "Not relevant/useable for devices",
        "info": "",
        "x": 470,
        "y": 820,
        "wires": []
    },
    {
        "id": "1490f325.759d4d",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "Not relevant/useable for devices",
        "info": "",
        "x": 470,
        "y": 980,
        "wires": []
    },
    {
        "id": "71bc9a8.f5f6e64",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "Not relevant/useable for devices",
        "info": "",
        "x": 470,
        "y": 1540,
        "wires": []
    },
    {
        "id": "f06dc5c7.dd7f38",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "Not relevant/useable for devices",
        "info": "",
        "x": 470,
        "y": 1700,
        "wires": []
    },
    {
        "id": "60126789.965fe8",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "Attention: Not yet fully defined!",
        "info": "",
        "x": 460,
        "y": 1140,
        "wires": []
    },
    {
        "id": "242eebf.b235d14",
        "type": "function",
        "z": "105cbc6410fe5e77",
        "name": "license",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"components\": [\n                    {\n                        \"component\": \"MyCmp\",\n                        \"licAuthors\": [\n                            \"Lorem ipsum\"\n                        ],\n                        \"licAddText\": \"no additional text\"\n                    },\n                    {\n                        \"component\": \"MyNode\",\n                        \"licAuthors\": [\n                            \"Lorem ipsum\"\n                        ],\n                        \"licAddText\": \"\"\n                    }\n                ]\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.license\");\nmsg.payload.correlationId = myCorrelationId;\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"gwDataSetWriterId\") + 4;\nmsg.payload.Messages[0].filter = \"MyLic\";\nmsg.payload.Messages[0].subResource = global.get(\"gwMAM.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmsg.payload.Messages[0].Timestamp = new Date().toISOString();\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/license\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/license/\" + global.get(\"gwMAM.ProductInstanceUri\");\n}\nelse if ( (iTopicHirarchyLength > global.get(\"TopicHirarchyLengthMiddle\")) & (iTopicHirarchyLength <= global.get(\"TopicHirarchyLengthLongest\")) ) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/license/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/MyLic\";\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 860,
        "wires": [
            [
                "b6b6bd1f.af07a"
            ]
        ]
    },
    {
        "id": "6fd841ef.83013",
        "type": "mqtt in",
        "z": "105cbc6410fe5e77",
        "name": "licenseText (MyLic)",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "43c3327d.03da5c",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 190,
        "y": 1020,
        "wires": [
            [
                "34d4e4d6.763e7c"
            ]
        ]
    },
    {
        "id": "1d1a0d9.94a10f2",
        "type": "function",
        "z": "105cbc6410fe5e77",
        "name": "licenseText",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"licenseText\": \"test test\"\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.licenseText\");\nmsg.payload.correlationId = myCorrelationId;\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"gwDataSetWriterId\") + 5;\nmsg.payload.Messages[0].filter = \"MyLic\";\nmsg.payload.Messages[0].subResource = global.get(\"gwMAM.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmsg.payload.Messages[0].Timestamp = new Date().toISOString();\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/licenseText\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/licenseText/\" + global.get(\"gwMAM.ProductInstanceUri\");\n}\nelse if ( (iTopicHirarchyLength > global.get(\"TopicHirarchyLengthMiddle\")) & (iTopicHirarchyLength <= global.get(\"TopicHirarchyLengthLongest\")) ) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/licenseText/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/MyLic\";\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 1019,
        "wires": [
            [
                "672d7c4a.fdca94"
            ]
        ]
    },
    {
        "id": "d569bb76.eb70c8",
        "type": "inject",
        "z": "105cbc6410fe5e77",
        "name": "pub licenseText",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 1080,
        "wires": [
            [
                "1d1a0d9.94a10f2"
            ]
        ]
    },
    {
        "id": "6be2637f.48430c",
        "type": "inject",
        "z": "105cbc6410fe5e77",
        "name": "pub license",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 920,
        "wires": [
            [
                "242eebf.b235d14"
            ]
        ]
    },
    {
        "id": "35e32117.9b695e",
        "type": "json",
        "z": "105cbc6410fe5e77",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 860,
        "wires": [
            [
                "242eebf.b235d14"
            ]
        ]
    },
    {
        "id": "34d4e4d6.763e7c",
        "type": "json",
        "z": "105cbc6410fe5e77",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 1019,
        "wires": [
            [
                "1d1a0d9.94a10f2"
            ]
        ]
    },
    {
        "id": "abcd6356.497ea",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "license - 10.1.4",
        "info": "See OEC Development Guideline chapter 10.1.4 for **license** related details.",
        "x": 120,
        "y": 818,
        "wires": []
    },
    {
        "id": "a86cc26f.41a7d",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "licenseText - 10.1.5",
        "info": "See OEC Development Guideline chapter 10.1.5 for **licenseText** related details.",
        "x": 130,
        "y": 977,
        "wires": []
    },
    {
        "id": "c16fabf7.4e6668",
        "type": "mqtt in",
        "z": "105cbc6410fe5e77",
        "name": "license (MyLic)",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "43c3327d.03da5c",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 180,
        "y": 861,
        "wires": [
            [
                "35e32117.9b695e"
            ]
        ]
    },
    {
        "id": "b6b6bd1f.af07a",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "health",
        "links": [
            "6a4ef29b.a35eec",
            "8a061c18.0cd43"
        ],
        "x": 911,
        "y": 861,
        "wires": []
    },
    {
        "id": "672d7c4a.fdca94",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "health",
        "links": [
            "6a4ef29b.a35eec",
            "8a061c18.0cd43"
        ],
        "x": 911,
        "y": 1020,
        "wires": []
    },
    {
        "id": "68274574.11b29c",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "health",
        "links": [
            "6a4ef29b.a35eec"
        ],
        "x": 912,
        "y": 1419,
        "wires": []
    },
    {
        "id": "c5d91ff4.b76ba",
        "type": "inject",
        "z": "105cbc6410fe5e77",
        "name": "pub publicationList",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "3",
        "topic": "0/1/2/3/4/5/6/7",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 1640,
        "wires": [
            [
                "5b305daa.d949f4"
            ]
        ]
    },
    {
        "id": "4bf33877.0f3f38",
        "type": "mqtt in",
        "z": "105cbc6410fe5e77",
        "name": "publicationList",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "43c3327d.03da5c",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 170,
        "y": 1580,
        "wires": [
            [
                "743128ca.705998"
            ]
        ]
    },
    {
        "id": "5b305daa.d949f4",
        "type": "function",
        "z": "105cbc6410fe5e77",
        "name": "publicationList",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* \n  Do we have to manipulate the correlationId, \n  because request (get) comes from somewere? \n*/\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nnode.error(\"ToDo in flow 'OEC GW' / get/publicationList and get/publicationList/mam results in the same publication -> no filtering yet\");\n\nmsg.payload = {\n    \"MessageId\": \"<publisherId + timestamp>\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"\",\n                \"subResource\": \"\",\n                \"filter\": \"\",\n                \"DataSetWriterId\": 0,\n                \"oi4Identifier\": \"\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"\",\n                \"subResource\": \"\",\n                \"filter\": \"\",\n                \"DataSetWriterId\": 0,\n                \"oi4Identifier\": \"\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"\",\n                \"subResource\": \"\",\n                \"filter\": \"\",\n                \"DataSetWriterId\": 0,\n                \"oi4Identifier\": \"\"\n            }\n        }\n    ]\n};\n\n\nmsg.payload.PublisherId = global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.publicationList\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\n//Use the same timestamp for all following DataSetMessages - just to keep it simple.\n//Remember, timestamp is optional anyway, so don't add it every time for testing...\nmyLastUpdateTime = new Date().toISOString();\n\n\n/* Some example objects with different set of optional keys */\nmsg.payload.Messages[0].DataSetWriterId         = global.get(\"gwDataSetWriterId\") + 32000;\nmsg.payload.Messages[0].filter                  = \"mam\";\nmsg.payload.Messages[0].subResource             = global.get(\"gwMAM.ProductInstanceUri\");\n//msg.payload.Messages[0].Timestamp             = myLastUpdateTime;\n//msg.payload.Messages[0].SequenceNumber        = <calc>;          //Not needed, don't want to calculate several SequenceNumbers here\n//msg.payload.Messages[0].Status                = 0;               //Not needed, if Status = OK = 0.\nmsg.payload.Messages[0].Payload.resource        = \"mam\";\nmsg.payload.Messages[0].Payload.subResource     = global.get(\"gwMAM.ProductInstanceUri\");\n//msg.payload.Messages[0].Payload.filter        = \"\",\nmsg.payload.Messages[0].Payload.DataSetWriterId = global.get(\"gwDataSetWriterId\") + 10;\nmsg.payload.Messages[0].Payload.oi4Identifier   = global.get(\"gwMAM.ProductInstanceUri\");\nmsg.payload.Messages[0].Payload.mode            = \"APPLICATION_SUBRESOURCE_5\";\n//msg.payload.Messages[0].Payload.interval      = 360;             //Not needed, if default (0) is used.\n//msg.payload.Messages[0].Payload.precisions    = {};              //Empty object not allowed. Ether full object or not present\n//msg.payload.Messages[0].Payload.config        = \"INTERVAL_2\";    //Not needed, if default (NONE_0) is used.\n\n\nmsg.payload.Messages[1].DataSetWriterId         = global.get(\"gwDataSetWriterId\") + 32000;\nmsg.payload.Messages[1].filter                  = \"health\";\nmsg.payload.Messages[1].subResource             = global.get(\"gwMAM.ProductInstanceUri\");\n//msg.payload.Messages[1].Timestamp             = myLastUpdateTime;\n//msg.payload.Messages[1].SequenceNumber        = <calc>;          //Not needed, don't want to calculate several SequenceNumbers here\n//msg.payload.Messages[1].Status                = 0;               //Not needed, if Status = OK = 0.\nmsg.payload.Messages[1].Payload.resource        = \"health\";\nmsg.payload.Messages[1].Payload.subResource     = global.get(\"gwMAM.ProductInstanceUri\");\n//msg.payload.Messages[1].Payload.filter        = \"\",\nmsg.payload.Messages[1].Payload.DataSetWriterId = global.get(\"gwDataSetWriterId\") + 2;\nmsg.payload.Messages[1].Payload.oi4Identifier   = global.get(\"gwMAM.ProductInstanceUri\");\nmsg.payload.Messages[1].Payload.mode            = \"APPLICATION_SUBRESOURCE_5\"; \n//msg.payload.Messages[1].Payload.interval      = 0;               //Not needed, if default (0) is used.\n                     //Just to clariefy, health does not use \"interval\" functionality, becuse it sents emediatelly on change and all 60 seconds. \n                     //See it as a kind of heardbeat with additional health information\n//msg.payload.Messages[1].Payload.precisions    = {};              //Empty object not allowed. Ether full object or not present\n//msg.payload.Messages[1].Payload.config        = \"NONE_0\";        //Not needed, if default (NONE_0) is used.\n\n\nmsg.payload.Messages[2].DataSetWriterId         = global.get(\"gwDataSetWriterId\") + 32000;\nmsg.payload.Messages[2].filter                  = \"profile\";\nmsg.payload.Messages[2].subResource             = global.get(\"gwMAM.ProductInstanceUri\");\n//msg.payload.Messages[2].Timestamp             = myLastUpdateTime;\n//msg.payload.Messages[2].SequenceNumber        = 1;               //should be dynamic!\n//msg.payload.Messages[2].Status                = 1;               //Not needed, if Status = OK = 0.\nmsg.payload.Messages[2].Payload.resource        = \"profile\";\nmsg.payload.Messages[2].Payload.subResource     = global.get(\"gwMAM.ProductInstanceUri\");\n//msg.payload.Messages[2].Payload.filter        = \"\",\nmsg.payload.Messages[2].Payload.DataSetWriterId = global.get(\"gwDataSetWriterId\") + 2;\nmsg.payload.Messages[2].Payload.oi4Identifier   = global.get(\"gwMAM.ProductInstanceUri\");\n//msg.payload.Messages[2].Payload.mode          = \"ON_REQUEST_1\";  //Not needed, if default (ON_REQUEST_1) is used.\n//msg.payload.Messages[2].Payload.interval      = 0;               //Not needed, if default (0) is used.\n//msg.payload.Messages[2].Payload.precisions    = {};              //Empty object not allowed. Ether full object or not present\n//msg.payload.Messages[2].Payload.config        = \"NONE_0\";        //Not needed, if default (NONE_0) is used.\n\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/publicationList\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/publicationList/\" + global.get(\"gwMAM.ProductInstanceUri\");\n}\nelse if ( (iTopicHirarchyLength > global.get(\"TopicHirarchyLengthMiddle\")) & (iTopicHirarchyLength <= global.get(\"TopicHirarchyLengthLongest\")) ) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/publicationList/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/mam\";\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 1578,
        "wires": [
            [
                "5a7c06fe.9f6888"
            ]
        ]
    },
    {
        "id": "743128ca.705998",
        "type": "json",
        "z": "105cbc6410fe5e77",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 1580,
        "wires": [
            [
                "5b305daa.d949f4"
            ]
        ]
    },
    {
        "id": "5a7c06fe.9f6888",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "health",
        "mode": "link",
        "links": [
            "6a4ef29b.a35eec"
        ],
        "x": 915,
        "y": 1578,
        "wires": []
    },
    {
        "id": "849215ced5afb8de",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "mam_topic",
        "mode": "link",
        "links": [
            "6a5420b2933bcbf7"
        ],
        "x": 455,
        "y": 88,
        "wires": []
    },
    {
        "id": "6a5420b2933bcbf7",
        "type": "link in",
        "z": "105cbc6410fe5e77",
        "name": "mam_in",
        "links": [
            "849215ced5afb8de"
        ],
        "x": 55,
        "y": 280,
        "wires": [
            [
                "b43c1de3.d1c8a"
            ]
        ]
    },
    {
        "id": "09f6d75539d5a937",
        "type": "link in",
        "z": "105cbc6410fe5e77",
        "name": "health_in",
        "links": [
            "f461e2377bd4e95a"
        ],
        "x": 55,
        "y": 440,
        "wires": [
            [
                "61ce008b.6527d"
            ]
        ]
    },
    {
        "id": "f461e2377bd4e95a",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "health_topic",
        "mode": "link",
        "links": [
            "09f6d75539d5a937"
        ],
        "x": 455,
        "y": 108,
        "wires": []
    },
    {
        "id": "1274f59b69cc4f72",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "license_topic",
        "mode": "link",
        "links": [
            "9df5a0924f52e766"
        ],
        "x": 455,
        "y": 128,
        "wires": []
    },
    {
        "id": "a285730d09a6e6e2",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "licenseText_topic",
        "mode": "link",
        "links": [
            "b0389fb7f0bf2f37"
        ],
        "x": 455,
        "y": 148,
        "wires": []
    },
    {
        "id": "8cc746c45a222e3f",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "profile_topic",
        "mode": "link",
        "links": [
            "5f2d768128676239"
        ],
        "x": 455,
        "y": 168,
        "wires": []
    },
    {
        "id": "91684c14152561d5",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "publicationList_topic",
        "mode": "link",
        "links": [
            "30851c2626f97175"
        ],
        "x": 455,
        "y": 188,
        "wires": []
    },
    {
        "id": "9df5a0924f52e766",
        "type": "link in",
        "z": "105cbc6410fe5e77",
        "name": "license_in",
        "links": [
            "1274f59b69cc4f72"
        ],
        "x": 55,
        "y": 861,
        "wires": [
            [
                "c16fabf7.4e6668"
            ]
        ]
    },
    {
        "id": "b0389fb7f0bf2f37",
        "type": "link in",
        "z": "105cbc6410fe5e77",
        "name": "licenseText_in",
        "links": [
            "a285730d09a6e6e2"
        ],
        "x": 55,
        "y": 1020,
        "wires": [
            [
                "6fd841ef.83013"
            ]
        ]
    },
    {
        "id": "5f2d768128676239",
        "type": "link in",
        "z": "105cbc6410fe5e77",
        "name": "profile_in",
        "links": [
            "8cc746c45a222e3f"
        ],
        "x": 55,
        "y": 1420,
        "wires": [
            [
                "4fca289e.fb3738"
            ]
        ]
    },
    {
        "id": "30851c2626f97175",
        "type": "link in",
        "z": "105cbc6410fe5e77",
        "name": "publicationList_in",
        "links": [
            "91684c14152561d5"
        ],
        "x": 55,
        "y": 1580,
        "wires": [
            [
                "4bf33877.0f3f38"
            ]
        ]
    },
    {
        "id": "5404c947.917878",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "Not yet clear, how to use events on device-level...",
        "info": "",
        "x": 520,
        "y": 1313,
        "wires": []
    },
    {
        "id": "88247c0b7d0c1798",
        "type": "mqtt in",
        "z": "105cbc6410fe5e77",
        "name": "referenceDesignation",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "43c3327d.03da5c",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 200,
        "y": 1860,
        "wires": [
            [
                "91b0da679ec6052c"
            ]
        ]
    },
    {
        "id": "aaf842abbee1a4f3",
        "type": "function",
        "z": "105cbc6410fe5e77",
        "name": "referenceDesignation",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n    {\n        \"DataSetWriterId\": 0,\n        \"filter\": \"\",\n        \"subResource\": \"\",\n        \"Payload\": {\n            \"location\": {\n            \"value\": \"<designation value>\",\n            \"local\": \"<local designation value>\",\n            \"parent\": {\n                \"value\": \"<designation value>\",\n                \"local\": \"<local designation value>\",\n                \"oi4Identifier\": \"<oi4_identifier>\"\n            }\n        },\n            \"function\": {\n            \"value\": \"<designation value>\",\n            \"local\": \"<local designation value\",\n            \"parent\": {\n                \"value\": \"<designation value>\",\n                \"local\": \"<local designation value>\",\n                \"oi4Identifier\": \"<oi4_identifier>\"\n            }\n        },\n        \"product\": {\n            \"value\": \"<designation value>\",\n            \"local\": \"<local designation value>\",\n            \"parent\": {\n                \"value\": \"<designation value>\",\n                \"local\": \"<local designation value>\",\n                \"oi4Identifier\": \"<oi4_identifier>\"\n            }\n        }\n      }\n    }\n  ]\n};\n\nmsg.payload.PublisherId = global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.referenceDesignation\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"gwDataSetWriterId\") + 14;\n//msg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"gwMAM.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\nmsg.payload.Messages[0].Status = 2147876864;\n    //...as an example, here with \"BadEncodingError\", because this object might not be IEC conform yet...\n    //\"ErrorShorthand\": \"BadEncodingError\",\n    //\"ErrorCode\": \"0x80060000\",\n    //\"Errordescription\": \"Encoding halted because of invalid data in the objects being serialized.\"\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/referenceDesignation\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"gwServiceType\") + \"/\" + global.get(\"gwMAM.ProductInstanceUri\") + \"/pub/referenceDesignation/\" + global.get(\"gwMAM.ProductInstanceUri\");\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 1860,
        "wires": [
            [
                "7bd646596752d617"
            ]
        ]
    },
    {
        "id": "dc1d5a6283e6288f",
        "type": "inject",
        "z": "105cbc6410fe5e77",
        "name": "pub referenceDesignation",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1920,
        "wires": [
            [
                "aaf842abbee1a4f3"
            ]
        ]
    },
    {
        "id": "91b0da679ec6052c",
        "type": "json",
        "z": "105cbc6410fe5e77",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 1860,
        "wires": [
            [
                "aaf842abbee1a4f3"
            ]
        ]
    },
    {
        "id": "7534c4ee92d653ca",
        "type": "comment",
        "z": "105cbc6410fe5e77",
        "name": "referenceDesignation - 10.1.14",
        "info": "See OEC Development Guideline chapter 10.1.14 for **referenceDesignation** related details.",
        "x": 170,
        "y": 1820,
        "wires": []
    },
    {
        "id": "7bd646596752d617",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "referenceDesignation",
        "mode": "link",
        "links": [
            "6a4ef29b.a35eec"
        ],
        "x": 915,
        "y": 1860,
        "wires": []
    },
    {
        "id": "fe47b025365655da",
        "type": "link in",
        "z": "105cbc6410fe5e77",
        "name": "referenceDesignation_in",
        "links": [
            "e0dafb0f9d1834a8"
        ],
        "x": 55,
        "y": 1860,
        "wires": [
            [
                "88247c0b7d0c1798"
            ]
        ]
    },
    {
        "id": "e0dafb0f9d1834a8",
        "type": "link out",
        "z": "105cbc6410fe5e77",
        "name": "referenceDesignation_topic",
        "mode": "link",
        "links": [
            "fe47b025365655da"
        ],
        "x": 455,
        "y": 209,
        "wires": []
    },
    {
        "id": "f2303754.896708",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub device",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "3",
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 440,
        "wires": [
            [
                "ffce6194.6325d"
            ]
        ]
    },
    {
        "id": "34eef4fc.aa771c",
        "type": "mqtt in",
        "z": "b1082b07.22e178",
        "name": "health",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 150,
        "y": 540,
        "wires": [
            [
                "d86a5991.689da8"
            ]
        ]
    },
    {
        "id": "111f590.9d988a7",
        "type": "mqtt in",
        "z": "b1082b07.22e178",
        "name": "Master Asset Model",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 190,
        "y": 380,
        "wires": [
            [
                "64eea18a.546bf"
            ]
        ]
    },
    {
        "id": "ffce6194.6325d",
        "type": "function",
        "z": "b1082b07.22e178",
        "name": "Master Asset Model",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* \n  Do we have to manipulate the correlationId, \n  because request (get) comes from somewere? \n*/\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"<timestamp + publisherId>\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"<serviceType>/<oi4Identifier of application container>\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": { }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.mam\");\nmsg.payload.correlationId = myCorrelationId;\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyAppDataSetWriterId\") + 1;\nmsg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"MyAppMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nmsg.payload.Messages[0].Payload = global.get(\"MyAppMAM1\");\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/mam\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/mam/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 380,
        "wires": [
            [
                "3829f55b.9dc4fa"
            ]
        ]
    },
    {
        "id": "5097b87a.095258",
        "type": "mqtt in",
        "z": "b1082b07.22e178",
        "name": "rtLicense",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 160,
        "y": 1340,
        "wires": [
            [
                "ec236ab8.0d7ec8"
            ]
        ]
    },
    {
        "id": "4112b105.9fd15",
        "type": "function",
        "z": "b1082b07.22e178",
        "name": "license",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"MyLic\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"components\": [\n                    {\n                        \"component\": \"MyCmp\",\n                        \"licAuthors\": [\n                            \"Lorem ipsum\"\n                        ],\n                        \"licAddText\": \"no additional text\"\n                    },\n                    {\n                        \"component\": \"MyNode\",\n                        \"licAuthors\": [\n                            \"Lorem ipsum\"\n                        ],\n                        \"licAddText\": \"\"\n                    }\n                ]\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.license\");\nmsg.payload.correlationId = myCorrelationId;\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyAppDataSetWriterId\") + 4;\nmsg.payload.Messages[0].filter = \"MyLic\";\nmsg.payload.Messages[0].subResource = global.get(\"MyAppMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/license\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/license/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\n}\nelse if ( (iTopicHirarchyLength > global.get(\"TopicHirarchyLengthMiddle\")) & (iTopicHirarchyLength <= global.get(\"TopicHirarchyLengthLongest\")) ) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/license/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/MyLic\";\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 1020,
        "wires": [
            [
                "fff5a9ba.640648"
            ]
        ]
    },
    {
        "id": "bf95fb5c.625fe8",
        "type": "function",
        "z": "b1082b07.22e178",
        "name": "rtLicense",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {}\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.rtLicense\");\nmsg.payload.correlationId = myCorrelationId;\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyAppDataSetWriterId\") + 6;\nmsg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"MyAppMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/rtLicense\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/rtLicense/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 1340,
        "wires": [
            [
                "339ae13.e1cca1e"
            ]
        ]
    },
    {
        "id": "3e3ecf82.35b69",
        "type": "mqtt in",
        "z": "b1082b07.22e178",
        "name": "licenseText",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 160,
        "y": 1180,
        "wires": [
            [
                "e4e86ba6.7dcba8"
            ]
        ]
    },
    {
        "id": "b5b16c68.7e7f6",
        "type": "function",
        "z": "b1082b07.22e178",
        "name": "licenseText",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"licenseText\": \"test test\"\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.licenseText\");\nmsg.payload.correlationId = myCorrelationId;\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyAppDataSetWriterId\") + 5;\nmsg.payload.Messages[0].filter = \"MyLic\";\nmsg.payload.Messages[0].subResource = global.get(\"MyAppMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/licenseText\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/licenseText/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\n}\nelse if ( (iTopicHirarchyLength > global.get(\"TopicHirarchyLengthMiddle\")) & (iTopicHirarchyLength <= global.get(\"TopicHirarchyLengthLongest\")) ) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/licenseText/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/MyLic\";\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 1180,
        "wires": [
            [
                "f5be819f.20048"
            ]
        ]
    },
    {
        "id": "85b4129b.c3f94",
        "type": "function",
        "z": "b1082b07.22e178",
        "name": "health",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\n/* We got fresh data direct from sensor */\nif (msg.payload.Payload !== undefined)\n{\n    var myPayload = msg.payload.Payload;\n}\n\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"health\": \"NORMAL_0\",\n                \"healthScore\": 100\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.health\");\nmsg.payload.correlationId = myCorrelationId;\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyAppDataSetWriterId\") + 2;\nmsg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"MyAppMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nif (myPayload !== undefined)\n{\n    msg.payload.Messages[0].Payload = myPayload;\n}\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/health\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/health/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 540,
        "wires": [
            [
                "e7059196.e4ebc"
            ]
        ]
    },
    {
        "id": "6e602c39.e07714",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub rtLicense",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1401,
        "wires": [
            [
                "bf95fb5c.625fe8"
            ]
        ]
    },
    {
        "id": "736da732.006b18",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub licenseText",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 1241,
        "wires": [
            [
                "b5b16c68.7e7f6"
            ]
        ]
    },
    {
        "id": "86d23c.16287dc8",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub license",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1084,
        "wires": [
            [
                "4112b105.9fd15"
            ]
        ]
    },
    {
        "id": "d86a5991.689da8",
        "type": "json",
        "z": "b1082b07.22e178",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 540,
        "wires": [
            [
                "85b4129b.c3f94"
            ]
        ]
    },
    {
        "id": "64eea18a.546bf",
        "type": "json",
        "z": "b1082b07.22e178",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 380,
        "wires": [
            [
                "ffce6194.6325d"
            ]
        ]
    },
    {
        "id": "53378be0.1323a4",
        "type": "json",
        "z": "b1082b07.22e178",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 1020,
        "wires": [
            [
                "4112b105.9fd15"
            ]
        ]
    },
    {
        "id": "e4e86ba6.7dcba8",
        "type": "json",
        "z": "b1082b07.22e178",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 1180,
        "wires": [
            [
                "b5b16c68.7e7f6"
            ]
        ]
    },
    {
        "id": "ec236ab8.0d7ec8",
        "type": "json",
        "z": "b1082b07.22e178",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 1340,
        "wires": [
            [
                "bf95fb5c.625fe8"
            ]
        ]
    },
    {
        "id": "da4ad56f.69a098",
        "type": "mqtt in",
        "z": "b1082b07.22e178",
        "name": "profile",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 150,
        "y": 1920,
        "wires": [
            [
                "2a5defc9.791be"
            ]
        ]
    },
    {
        "id": "a0d08815.8f2e18",
        "type": "function",
        "z": "b1082b07.22e178",
        "name": "profile",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": [\n                    \"mam\",\n                    \"health\",\n                    \"config\",\n                    \"license\",\n                    \"licenseText\",\n                    \"rtLicense\",\n                    \"event\",\n                    \"profile\",\n                    \"publicationList\",\n                    \"subscriptionList\",\n                    \"interfaces\",\n                    \"referenceDesignation\"\n                ]\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.profile\");\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyAppDataSetWriterId\") + 10;\nmsg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"MyAppMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/profile\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/profile/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 1919,
        "wires": [
            [
                "a517cf66.0954"
            ]
        ]
    },
    {
        "id": "6edcbc29.1edba4",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub profile",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 1980,
        "wires": [
            [
                "a0d08815.8f2e18"
            ]
        ]
    },
    {
        "id": "2a5defc9.791be",
        "type": "json",
        "z": "b1082b07.22e178",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 1920,
        "wires": [
            [
                "a0d08815.8f2e18"
            ]
        ]
    },
    {
        "id": "aad6c332.68eec",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub health (Normal/0, 100%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"NORMAL_0\",\"healthScore\":100}}",
        "payloadType": "json",
        "x": 190,
        "y": 600,
        "wires": [
            [
                "85b4129b.c3f94"
            ]
        ]
    },
    {
        "id": "19308ccf.8a8e23",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub health (Failure/1, 0%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"FAILURE_1\",\"healthScore\":0}}",
        "payloadType": "json",
        "x": 169,
        "y": 640,
        "wires": [
            [
                "85b4129b.c3f94"
            ]
        ]
    },
    {
        "id": "892f7876.09ad78",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub health (ChekFunction/2, 80%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"CHECK_FUNCTION_2\",\"healthScore\":80}}",
        "payloadType": "json",
        "x": 200,
        "y": 680,
        "wires": [
            [
                "85b4129b.c3f94"
            ]
        ]
    },
    {
        "id": "1973c713.bf8339",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub health (OffSpec/3, 70%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"OFF_SPEC_3\",\"healthScore\":70}}",
        "payloadType": "json",
        "x": 179,
        "y": 720,
        "wires": [
            [
                "85b4129b.c3f94"
            ]
        ]
    },
    {
        "id": "5764898f.1998f8",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "------------------------------------------------------------ MyApp basics ------------------------------------------------------------",
        "info": "**MyApp** represents an application container (in this case emulated through Node-RED). \nThe Node-RED flow is responsable for all application based OI4 basic services such as health, license, mam, ...\nIn addition, the application might be some kind of protocol adapter or offers other micro services, which are not implemented here.\n\n**MyApp** with the oi4Identifier created in function node `init`, is the publischer of all locally generated information. \nTherefore the `PublisherId` contains always the `oi4Identifier` of the application.\n\nIf you want to use it in combination with AAS or other platforms in parallel, please change at least the serial number of the application to create a unique instance!\nTo do so change this:\n 1. Change at least the serialnumber in mam. Go to function node called `init` to do so.\n 2. Change at least the serialnumber in birth, disconnect and will message of the MQTT client. **Remember, it needs to be changed in topic and payload!**\n\n> **Attention:** Birth, will and disconnect messages are not yet configured in MQTT Client settings!",
        "x": 400,
        "y": 40,
        "wires": []
    },
    {
        "id": "ed9f5d47.22ca2",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 110,
        "y": 180,
        "wires": [
            [
                "537fcbd3.b504e4"
            ]
        ]
    },
    {
        "id": "537fcbd3.b504e4",
        "type": "function",
        "z": "b1082b07.22e178",
        "name": "init",
        "func": "/*\n  Attention: \n  birth, will and close message must be updated separatly from this global settings!\n  Ther is no way to configure this MQTT client settings via js code here.\n  Also the topics of all mqtt-in nodes needs to be updated - therefore the debug \n  outputs of this function prints the calculated topics to all get-topics.\n*/\n\n/* \n   Define content of Master Asset Model aka \"name plate\"\n   As defined in v0.10 of Development Guideline \n*/\nvar myAppMAM = {\n    \"Manufacturer\": {\n        \"locale\": \"en-US\",\n        \"text\": \"AppVendor\"\n    },\n    \"ManufacturerUri\": \"appvendor.com\",\n    \"Model\": {\n        \"locale\": \"en-US\",\n        \"text\": \"AppModel\"\n    },\n    \"ProductCode\": \"AppProductCode\",\n    \"HardwareRevision\": \"\",\n    \"SoftwareRevision\": \"1.0.0\",\n    \"DeviceRevision\": \"\",\n    \"DeviceManual\": \"\",\n    \"DeviceClass\": \"Application\",\n    \"SerialNumber\": \"4444\",\n    \"ProductInstanceUri\": \"\",\n    \"RevisionCounter\": 1,\n    \"Description\": {\n        \"locale\": \"en-US\",\n        \"text\": \"I am a containerized application\"\n    }\n};\n\n\n/*\n  myAppMAM.ProductInstanceUri is defined as valid URI, and is a valid oi4Identifier.\n  So myAppMAM.ManufacturerUri is not encoded, but all other fields are to avoid \n  special, url-related, characters.\n*/\nmyAppMAM.ProductInstanceUri = myAppMAM.ManufacturerUri +\n                              \"/\" + encodeURIComponent(myAppMAM.Model.text) +\n                              \"/\" + encodeURIComponent(myAppMAM.ProductCode) +\n                              \"/\" + encodeURIComponent(myAppMAM.SerialNumber);\nglobal.set(\"MyAppMAM1\", myAppMAM);\n\n\n/*\n  Each application is of a specific service type such as\n  Registry, OTConnector, Utility, Persistence, Aggregation or OOCConnector\n*/\nglobal.set(\"MyServiceType1\", \"OTConnector\");\n\n\n/*\n  The DataSetWriterId of each DataSetMessage must be unique. As a helper, \n  this is a global offset, to make it easier to cut'n'past code.\n*/\nglobal.set(\"MyAppDataSetWriterId\", 0);\n\n\nvar msgMam = {};\nmsgMam.action         = \"subscribe\";\nmsgMam.topic          = [{}, {}];\nmsgMam.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/mam\";\nmsgMam.topic[0].qos   = 0;\nmsgMam.topic[1].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/mam/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsgMam.topic[1].qos   = 0;\n\nvar msgHealth = {};\nmsgHealth.action         = \"subscribe\";\nmsgHealth.topic          = [{}, {}];\nmsgHealth.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/health\";\nmsgHealth.topic[0].qos   = 0;\nmsgHealth.topic[1].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/health/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsgHealth.topic[1].qos   = 0;\n\nvar msgConf = {};\nmsgConf.action         = \"subscribe\";\nmsgConf.topic          = [{}, {}, {}];\nmsgConf.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/config\";\nmsgConf.topic[0].qos   = 0;\nmsgConf.topic[1].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/config/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsgConf.topic[1].qos   = 0;\nmsgConf.topic[2].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/config/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/network\";\nmsgConf.topic[2].qos   = 0;\n\nvar msgLic = {};\nmsgLic.action         = \"subscribe\";\nmsgLic.topic          = [{}, {}, {}];\nmsgLic.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/license\";\nmsgLic.topic[0].qos   = 0;\nmsgLic.topic[1].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/license/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsgLic.topic[1].qos   = 0;\nmsgLic.topic[2].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/license/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/MyLic\";\nmsgLic.topic[2].qos   = 0;\n\nvar msgLicT = {};\nmsgLicT.action        = \"subscribe\";\nmsgLicT.topic          = [{}, {}, {}];\nmsgLicT.topic[0].topic= \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/licenseText\";\nmsgLicT.topic[0].qos  = 0;\nmsgLicT.topic[1].topic= \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/licenseText/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsgLicT.topic[1].qos  = 0;\nmsgLicT.topic[2].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/licenseText/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/MyLic\";\nmsgLicT.topic[2].qos   = 0;\n\nvar msgRtLic = {};\nmsgRtLic.action         = \"subscribe\";\nmsgRtLic.topic          = [{}, {}];\nmsgRtLic.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/rtLicense\";\nmsgRtLic.topic[0].qos   = 0;\nmsgRtLic.topic[1].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/rtLicense/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsgRtLic.topic[1].qos   = 0;\n\nvar msgProfil = {};\nmsgProfil.action        = \"subscribe\";\nmsgProfil.topic          = [{}, {}];\nmsgProfil.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/profile\";\nmsgProfil.topic[0].qos   = 0;\nmsgProfil.topic[1].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/profile/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsgProfil.topic[1].qos   = 0;\n\nvar msgPubL = {};\nmsgPubL.action        = \"subscribe\";\nmsgPubL.topic          = [{}, {}, {}];\nmsgPubL.topic[0].topic= \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/publicationList\";\nmsgPubL.topic[0].qos  = 0;\nmsgPubL.topic[1].topic= \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/publicationList/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsgPubL.topic[1].qos  = 0;\nmsgPubL.topic[2].topic= \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/publicationList/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/mam\";\nmsgPubL.topic[2].qos  = 0;\n\nvar msgSubL = {};\nmsgSubL.action         = \"subscribe\";\nmsgSubL.topic          = [{}, {}, {}];\nmsgSubL.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/subscriptionList\";\nmsgSubL.topic[0].qos   = 0;\nmsgSubL.topic[1].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/subscriptionList/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsgSubL.topic[1].qos   = 0;\nmsgSubL.topic[2].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/subscriptionList/\" + global.get(\"MyAppMAM1.ProductInstanceUri\")+ \"/mam\";\nmsgSubL.topic[2].qos   = 0;\n\nvar msgItf = {};\nmsgItf.action        = \"subscribe\";\nmsgItf.topic          = [{}, {}];\nmsgItf.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/interface\";\nmsgItf.topic[0].qos   = 0;\nmsgItf.topic[1].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/interface/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsgItf.topic[1].qos   = 0;\n\nvar msgRefDes = {};\nmsgRefDes.action         = \"subscribe\";\nmsgRefDes.topic          = [{}, {}];\nmsgRefDes.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/referenceDesignation\";\nmsgRefDes.topic[0].qos   = 0;\nmsgRefDes.topic[1].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/referenceDesignation/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsgRefDes.topic[1].qos   = 0;\n\nreturn [msgMam, msgHealth, msgConf, msgLic, msgLicT, msgRtLic, msgProfil, msgPubL, msgSubL, msgItf, msgRefDes];",
        "outputs": 11,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 180,
        "wires": [
            [
                "44c889c.e5caf78",
                "0e0195b169697642"
            ],
            [
                "e1e2ce48e180dc5a"
            ],
            [
                "c40559b1475ff728"
            ],
            [
                "1cc58db839c034d2"
            ],
            [
                "9002297b17939dd6"
            ],
            [
                "c3465ad5483c5086"
            ],
            [
                "cc4897763b225157"
            ],
            [
                "8b6776f2a9415e59"
            ],
            [
                "48ea05ded3ab000b"
            ],
            [
                "f58d3aa4cb091331"
            ],
            [
                "e38c5f00cabd0826"
            ]
        ]
    },
    {
        "id": "a3723a3b.827558",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "Initialization / ToDos",
        "info": "Initialize the application by configuring the global available name plate (aka MAM) and the oi4Identifier. Open the `init` node for this and change the content.",
        "x": 130,
        "y": 100,
        "wires": []
    },
    {
        "id": "44c889c.e5caf78",
        "type": "debug",
        "z": "b1082b07.22e178",
        "name": "mam topic",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "targetType": "msg",
        "x": 630,
        "y": 112,
        "wires": []
    },
    {
        "id": "f3bbae4d.f80c5",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub publicationList",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "3",
        "topic": "0/1/2/3/4/5/6/7",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 2143,
        "wires": [
            [
                "6ce98a46.221eb4"
            ]
        ]
    },
    {
        "id": "bd958710.46fdb8",
        "type": "mqtt in",
        "z": "b1082b07.22e178",
        "name": "publicationList",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 170,
        "y": 2080,
        "wires": [
            [
                "5fbde51e.2343ec"
            ]
        ]
    },
    {
        "id": "6ce98a46.221eb4",
        "type": "function",
        "z": "b1082b07.22e178",
        "name": "publicationList",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* \n  Do we have to manipulate the correlationId, \n  because request (get) comes from somewere? \n*/\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nnode.error(\"ToDo in flow 'MyApp' / get/publicationList and get/publicationList/mam results in the same publication -> no filtering yet\");\n\nmsg.payload = {\n    \"MessageId\": \"<publisherId + timestamp>\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"\",\n                \"subResource\": \"\",\n                \"filter\": \"\",\n                \"DataSetWriterId\": 0,\n                \"oi4Identifier\": \"\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"\",\n                \"subResource\": \"\",\n                \"filter\": \"\",\n                \"DataSetWriterId\": 0,\n                \"oi4Identifier\": \"\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"\",\n                \"subResource\": \"\",\n                \"filter\": \"\",\n                \"DataSetWriterId\": 0,\n                \"oi4Identifier\": \"\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.419253Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"data\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"data\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"TestValue_Int8\",\n                \"DataSetWriterId\": 27,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"INTERVAL_2\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.419753Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"data\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"data\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"TestValue_Int16\",\n                \"DataSetWriterId\": 28,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\",\n                \"precisions\": {\n                    \"TestValue_Int16\": 2\n                }\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.420252Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"data\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"data\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"TestValue_Int32\",\n                \"DataSetWriterId\": 29,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"INTERVAL_2\",\n                \"precisions\": {\n                  \"TestValue_Int32\": 10\n                }\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.420753Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"data\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"data\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"TestValue_Int64\",\n                \"DataSetWriterId\": 30,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"INTERVAL_2\",\n                \"precisions\": {\n                    \"TestValue_Int64\": 100\n                }\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.421253Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"data\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"data\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"TestValue_UInt8\",\n                \"DataSetWriterId\": 31,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"INTERVAL_2\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.421751Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"data\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"data\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"TestValue_UInt16\",\n                \"DataSetWriterId\": 32,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"INTERVAL_2\",\n                \"precisions\": {\n                  \"TestValue_UInt16\": 2\n                }\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.422251Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"data\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"data\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"TestValue_UInt32\",\n                \"DataSetWriterId\": 33,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"INTERVAL_2\",\n                \"precisions\": {\n                    \"TestValue_UInt32\": 10\n                }\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.422251Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"datat\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"data\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"TestValue_UInt64\",\n                \"DataSetWriterId\": 34,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"INTERVAL_2\",\n                \"precisions\": {\n                    \"TestValue_UInt64\": 100\n                }\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.422781Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"data\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"data\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"TestValue_Float\",\n                \"DataSetWriterId\": 35,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"INTERVAL_2\",\n                \"precisions\": {\n                    \"TestValue_Float\": 10.5\n                }\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.423251Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"data\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"data\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"TestValue_Double\",\n                \"DataSetWriterId\": 36,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"INTERVAL_2\",\n                \"precisions\": {\n                    \"TestValue_Double\": 10.5\n                }\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.423751Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"data\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"data\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"TestValue_String\",\n                \"DataSetWriterId\": 37,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"INTERVAL_2\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.423751Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"mam\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"mam\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"\",\n                \"DataSetWriterId\": 0,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.424251Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"mam\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"mam\",\n                \"subResource\": \"manufacturer.tld/OI4,20Example,20Counter/Asset_1/MyTestApp\",\n                \"filter\": \"\",\n                \"DataSetWriterId\": 26,\n                \"oi4Identifier\": \"manufacturer.tld/OI4,20Example,20Counter/Asset_1/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.424750Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"health\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"health\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"\",\n                \"DataSetWriterId\": 22,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 60000,\n                \"config\": \"INTERVAL_2\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.424750Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"health\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"health\",\n                \"subResource\": \"manufacturer.tld/OI4,20Example,20Counter/Asset_1/MyTestApp\",\n                \"filter\": \"\",\n                \"DataSetWriterId\": 25,\n                \"oi4Identifier\": \"manufacturer.tld/OI4,20Example,20Counter/Asset_1/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 60000,\n                \"config\": \"INTERVAL_2\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.425251Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"license\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"license\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"Apache-2.0\",\n                \"DataSetWriterId\": 12,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        }  ,\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.425751Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"license\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"license\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"Boost\",\n                \"DataSetWriterId\": 13,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.425751Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"license\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"license\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"Eclipse%20Distribution%20License\",\n                \"DataSetWriterId\": 14,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.426251Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"license\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"license\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"HilscherSLAnetFIELD\",\n                \"DataSetWriterId\": 15,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.426751Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"license\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"license\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"MIT\",\n                \"DataSetWriterId\": 16,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.426751Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"licenseText\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"licenseText\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"Apache-2.0\",\n                \"DataSetWriterId\": 17,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.427250Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"licenseText\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"licenseText\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"Boost\",\n                \"DataSetWriterId\": 18,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.427749Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"licenseText\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"licenseText\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"Eclipse%20Distribution%20License\",\n                \"DataSetWriterId\": 19,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.427749Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"licenseText\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"licenseText\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"HilscherSLAnetFIELD\",\n                \"DataSetWriterId\": 20,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.428251Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"licenseText\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"licenseText\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"MIT\",\n                \"DataSetWriterId\": 21,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.428751Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"event\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"event\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"emergency\",\n                \"DataSetWriterId\": 3,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.429754Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"event\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"event\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"alert\",\n                \"DataSetWriterId\": 4,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.430756Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"event\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"event\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"critical\",\n                \"DataSetWriterId\": 5,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.431258Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"event\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"event\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"error\",\n                \"DataSetWriterId\": 6,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.431755Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"event\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"event\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"warning\",\n                \"DataSetWriterId\": 7,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.432253Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"event\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"event\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"notice\",\n                \"DataSetWriterId\": 8,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.432753Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"event\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"event\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"informational\",\n                \"DataSetWriterId\": 9,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.433253Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"event\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"event\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"debug\",\n                \"DataSetWriterId\": 10,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.433253Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"profile\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"profile\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"\",\n                \"DataSetWriterId\": 11,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.433751Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"profile\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"profile\",\n                \"subResource\": \"manufacturer.tld/OI4,20Example,20Counter/Asset_1/MyTestApp\",\n                \"filter\": \"\",\n                \"DataSetWriterId\": 24,\n                \"oi4Identifier\": \"manufacturer.tld/OI4,20Example,20Counter/Asset_1/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.434251Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"publicationList\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"publicationList\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"publicationList\",\n                \"DataSetWriterId\": 1,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"Timestamp\": \"2021-06-23T12:05:29.434251Z\",\n            \"DataSetWriterId\": 1,\n            \"filter\": \"subscriptionList\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": \"subscriptionList\",\n                \"subResource\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"filter\": \"subscriptionList\",\n                \"DataSetWriterId\": 2,\n                \"oi4Identifier\": \"hilscher.com/TestApplication/OI4_Example/MyTestApp\",\n                \"mode\": \"APPLICATION_SUBRESOURCE_5\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.publicationList\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\n//Use the same timestamp for all following DataSetMessages - just to keep it simple.\n//Remember, timestamp is optional anyway, so don't add it every time for testing...\nmyLastUpdateTime = new Date().toISOString();\n\n/* Some example objects with different set of optional keys */\nmsg.payload.Messages[0].DataSetWriterId          = global.get(\"MyAppDataSetWriterId\") + 65000;\nmsg.payload.Messages[0].filter                   = \"mam\"; \nmsg.payload.Messages[0].subResource              = global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.Messages[0].Timestamp                = myLastUpdateTime; //Should work with Timestamp ... (see next example)\n//msg.payload.Messages[0].SequenceNumber         = <calc>;           //Not needed, don't want to calculate several SequenceNumbers here\n//msg.payload.Messages[0].Status                 = 0;                //Not needed, if Status = OK = 0.\nmsg.payload.Messages[0].Payload.resource         = \"mam\";\nmsg.payload.Messages[0].Payload.subResource      = global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.Messages[0].Payload.DataSetWriterId  = global.get(\"MyAppDataSetWriterId\") + 10;\nmsg.payload.Messages[0].Payload.oi4Identifier    = global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.Messages[0].Payload.mode             = \"APPLICATION_SUBRESOURCE_5\";\nmsg.payload.Messages[0].Payload.interval         = 360;              //Not needed, if default (0) is used.\n//msg.payload.Messages[0].Payload.precisions     = {};               //Empty object not allowed. Ether full object or not present\nmsg.payload.Messages[0].Payload.config           = \"INTERVAL_2\";     //Not needed, if default (NONE_0) is used.\n\n\nmsg.payload.Messages[1].DataSetWriterId          = global.get(\"MyAppDataSetWriterId\") + 65000;\nmsg.payload.Messages[1].filter                   = \"health\";\nmsg.payload.Messages[1].subResource              = global.get(\"MyAppMAM1.ProductInstanceUri\");\n//msg.payload.Messages[1].Timestamp              = myLastUpdateTime; //...should also work without Timestamp\n//msg.payload.Messages[1].SequenceNumber         = <calc>;           //Not needed, don't want to calculate several SequenceNumbers here\n//msg.payload.Messages[1].Status                 = 0;                //Not needed, if Status = OK = 0.\nmsg.payload.Messages[1].Payload.resource         = \"health\";\nmsg.payload.Messages[1].Payload.subResource      = global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.Messages[1].Payload.DataSetWriterId  = global.get(\"MyAppDataSetWriterId\") + 2;\nmsg.payload.Messages[1].Payload.oi4Identifier    = global.get(\"MyAppMAM1.ProductInstanceUri\");\n//msg.payload.Messages[1].Payload.mode           = \"APPLICATION_SUBRESOURCE_5\";\n//msg.payload.Messages[1].Payload.interval       = 0;                //Not needed, if default (0) is used.\n                     //Just to clariefy, health does not use \"interval\" functionality, becuse it sents emediatelly on change and all 60 seconds. \n                     //See it as a kind of heardbeat with additional health information\n//msg.payload.Messages[1].Payload.precisions     = {};               //Empty object not allowed. Ether full object or not present\n//msg.payload.Messages[1].Payload.config         = \"NONE_0\";         //Not needed, if default (NONE_0) is used.\n\n\n/*\n    Here a \"full blown\" example (without precision) for schema validation\n*/\nmsg.payload.Messages[2].DataSetWriterId          = global.get(\"MyAppDataSetWriterId\") + 65000;\nmsg.payload.Messages[2].filter                   = \"profile\";\nmsg.payload.Messages[2].subResource              = global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.Messages[2].Timestamp                = myLastUpdateTime;\nmsg.payload.Messages[2].SequenceNumber           = 1;                //should be dynamic!\nmsg.payload.Messages[2].Status                   = 1;                //Not needed, if Status = OK = 0.\nmsg.payload.Messages[2].Payload.resource         = \"profile\";\nmsg.payload.Messages[2].Payload.subResource      = global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.Messages[2].Payload.DataSetWriterId  = global.get(\"MyAppDataSetWriterId\") + 2;\nmsg.payload.Messages[2].Payload.oi4Identifier    = global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.Messages[2].Payload.mode             = \"APPLICATION_SUBRESOURCE_5\";\nmsg.payload.Messages[2].Payload.interval         = 0;                //Not needed, if default (0) is used.\n//msg.payload.Messages[2].Payload.precisions     = {};               //Empty object not allowed. Ether full object or not present\nmsg.payload.Messages[2].Payload.config           = \"NONE_0\";         //Not needed, if default (NONE_0) is used.\n\n\nmsg.payload.Messages[3].subResource = msg.payload.Messages[4].subResource = msg.payload.Messages[5].subResource = \nmsg.payload.Messages[6].subResource = msg.payload.Messages[7].subResource = msg.payload.Messages[8].subResource = \nmsg.payload.Messages[9].subResource = msg.payload.Messages[10].subResource = msg.payload.Messages[11].subResource = \nmsg.payload.Messages[12].subResource = msg.payload.Messages[13].subResource = msg.payload.Messages[14].subResource = \nmsg.payload.Messages[15].subResource = msg.payload.Messages[16].subResource = msg.payload.Messages[17].subResource = \nmsg.payload.Messages[18].subResource = msg.payload.Messages[19].subResource = msg.payload.Messages[20].subResource = \nmsg.payload.Messages[21].subResource = msg.payload.Messages[22].subResource = msg.payload.Messages[23].subResource = \nmsg.payload.Messages[24].subResource = msg.payload.Messages[25].subResource = msg.payload.Messages[26].subResource =\nmsg.payload.Messages[27].subResource = msg.payload.Messages[28].subResource = msg.payload.Messages[29].subResource = \nmsg.payload.Messages[30].subResource = msg.payload.Messages[31].subResource = msg.payload.Messages[32].subResource = \nmsg.payload.Messages[33].subResource = msg.payload.Messages[34].subResource = msg.payload.Messages[35].subResource = \nmsg.payload.Messages[36].subResource = msg.payload.Messages[37].subResource = msg.payload.Messages[38].subResource = \nmsg.payload.Messages[39].subResource = global.get(\"MyAppMAM1.ProductInstanceUri\");\n\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/publicationList\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/publicationList/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\n}\nelse if ( (iTopicHirarchyLength > global.get(\"TopicHirarchyLengthMiddle\")) & (iTopicHirarchyLength <= global.get(\"TopicHirarchyLengthLongest\")) ) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/publicationList/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/mam\";\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 2078,
        "wires": [
            [
                "b7d2b486.c84f08"
            ]
        ]
    },
    {
        "id": "5fbde51e.2343ec",
        "type": "json",
        "z": "b1082b07.22e178",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 2080,
        "wires": [
            [
                "6ce98a46.221eb4"
            ]
        ]
    },
    {
        "id": "cde137fd.9ca0f8",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub subscriptionList",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "3",
        "topic": "0/1/2/3/4/5/6/7",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 2300,
        "wires": [
            [
                "51d96b9c.b4c6c4"
            ]
        ]
    },
    {
        "id": "523b4381.7d75ac",
        "type": "mqtt in",
        "z": "b1082b07.22e178",
        "name": "subscriptionList",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 180,
        "y": 2240,
        "wires": [
            [
                "4110f286.a4a5fc"
            ]
        ]
    },
    {
        "id": "51d96b9c.b4c6c4",
        "type": "function",
        "z": "b1082b07.22e178",
        "name": "subscriptionList",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* \n  Do we have to manipulate the correlationId, \n  because request (get) comes from somewere? \n*/\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nnode.error(\"ToDo in flow 'MyApp' / get/subscriptionList and get/subscriptionList/mam results in the same publication -> no filtering yet\");\n\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"mam\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/mam/mymanufacturer.com/myModel/myProductCode/5555\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"health\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/health/mymanufacturer.com/myModel/myProductCode/5555\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"license\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/license/mymanufacturer.com/myModel/myProductCode/5555\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"licenseText\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/licenseText/MyLic\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"rtLicense\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/rtLicense/mymanufacturer.com/myModel/myProductCode/5555\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"publicationList\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/publicationList\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"subscriptionList\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/subscriptionList\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"profile\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/profile/mymanufacturer.com/myModel/myProductCode/5555\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"mam\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/mam/devicevendor.com/DeviceModel/DeviceProductCode/5555\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"health\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/health/devicevendor.com/DeviceModel/DeviceProductCode/5555\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"profile\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/profile/devicevendor.com/DeviceModel/DeviceProductCode/5555\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"data\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/data/MyFirstTag\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"metadata\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/metadata/MyFirstTag\",\n                \"interval\": 0,\n                \"config\": \"NONE_0\"\n            }\n        },\n        {\n            \"DataSetWriterId\": 65001,\n            \"filter\": \"metadata\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"topicPath\": \"oi4/OTConnector/mymanufacturer.com/myModel/myProductCode/5555/get/metadata/MyFirstTag\",\n                \"interval\": 4000,\n                \"config\": \"NONE_0\"\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.subscriptionList\");\nmsg.payload.correlationId = myCorrelationId;\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].subResource = msg.payload.Messages[1].subResource = msg.payload.Messages[2].subResource = msg.payload.Messages[3].subResource = msg.payload.Messages[4].subResource = msg.payload.Messages[5].subResource = msg.payload.Messages[6].subResource = msg.payload.Messages[7].subResource = msg.payload.Messages[8].subResource = msg.payload.Messages[9].subResource = msg.payload.Messages[10].subResource = msg.payload.Messages[11].subResource = global.get(\"MyAppMAM1.ProductInstanceUri\");\n\n/*\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyAppDataSetWriterId\") + 8;\nmsg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"MyAppMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n*/\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/subscriptionList\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/subscriptionList/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\n}\nelse if ( (iTopicHirarchyLength > global.get(\"TopicHirarchyLengthMiddle\")) & (iTopicHirarchyLength <= global.get(\"TopicHirarchyLengthLongest\")) ) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/subscriptionList/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/mam\";\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 561,
        "y": 2240,
        "wires": [
            [
                "ee0be35c.f603b"
            ]
        ]
    },
    {
        "id": "4110f286.a4a5fc",
        "type": "json",
        "z": "b1082b07.22e178",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 2240,
        "wires": [
            [
                "51d96b9c.b4c6c4"
            ]
        ]
    },
    {
        "id": "eb8e6a1c.da4668",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "Attention: Not the full list implemeted, just an example!",
        "info": "All tags and resources from connected devices are missing",
        "x": 540,
        "y": 2043,
        "wires": []
    },
    {
        "id": "9cd8d07.9e2fd3",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "Attention: Might not be the full list of subscriptions, just an example!",
        "info": "",
        "x": 580,
        "y": 2200,
        "wires": []
    },
    {
        "id": "8b3f34fe.6406a8",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub health (Maintenance/4, 50%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"MAINTENANCE_REQUIRED_4\",\"healthScore\":50}}",
        "payloadType": "json",
        "x": 189,
        "y": 759,
        "wires": [
            [
                "85b4129b.c3f94"
            ]
        ]
    },
    {
        "id": "2bbce2e1.c8796e",
        "type": "mqtt in",
        "z": "b1082b07.22e178",
        "name": "config",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 150,
        "y": 860,
        "wires": [
            [
                "d786611.1d8b3a"
            ]
        ]
    },
    {
        "id": "ce9bf11a.eb714",
        "type": "function",
        "z": "b1082b07.22e178",
        "name": "config",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"network\",\n            \"subResource\": \"\", \n            \"Payload\": {\n                \"network\": {\n                    \"name\": { \"locale\": \"en-US\", \"text\": \"Network\" },\n                    \"description\": { \"locale\": \"en-US\", \"text\": \"Describes the network configuration of this service\" },\n                    \"ip_address\": {\n                        \"description\": { \"locale\": \"en-US\", \"text\": \"IP address of Network DNS server\" },\n                        \"name\": { \"locale\": \"en-US\", \"text\": \"IP Address\" },\n                        \"type\": \"String\",\n                        \"validation\": {\n                            \"pattern\": \"^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$\"\n                        },\n                        \"value\": \"\"\n                    },\n                    \"subnet-mask\": {\n                        \"description\": { \"locale\": \"en-US\", \"text\": \"Subnetmask of Network\" },\n                        \"name\": { \"locale\": \"en-US\", \"text\": \"Subnetmask\" },\n                        \"type\": \"String\",\n                        \"validation\": {\n                            \"pattern\": \"^(((255\\\\.){3}(255|254|252|248|240|224|192|128|0+))|((255\\\\.){2}(255|254|252|248|240|224|192|128|0+)\\\\.0)|((255\\\\.)(255|254|252|248|240|224|192|128|0+)(\\\\.0+){2})|((255|254|252|248|240|224|192|128|0+)(\\\\.0+){3}))$\"\n                        },\n                        \"value\": \"\"\n                    },\n                    \"port\": {\n                        \"defaultValue\": \"80\",\n                        \"mandatory\": false,\n                        \"name\": { \"locale\": \"en-US\", \"text\": \"Port\" },\n                        \"type\": \"Number\",\n                        \"validation\": {\n                            \"min\": 0,\n                            \"max\": 65535\n                        },\n                        \"value\": \"\"\n                    }\n                },\n                \"context\": {\n                    \"description\": { \"locale\": \"en-US\", \"text\": \"Network Settings\" },\n                    \"name\": { \"locale\": \"en-US\", \"text\": \"Network Settings\" },\n                }\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.config\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyAppDataSetWriterId\") + 3;\nmsg.payload.Messages[0].filter = \"network\";\nmsg.payload.Messages[0].subResource = global.get(\"MyAppMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/config\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/config/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\n}\nelse if ( (iTopicHirarchyLength > global.get(\"TopicHirarchyLengthMiddle\")) & (iTopicHirarchyLength <= global.get(\"TopicHirarchyLengthLongest\")) ) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/config/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/network\";\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 860,
        "wires": [
            [
                "c5c1d484.ad9d98"
            ]
        ]
    },
    {
        "id": "cbf6145d.d6f3e8",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub profile",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 920,
        "wires": [
            [
                "ce9bf11a.eb714"
            ]
        ]
    },
    {
        "id": "d786611.1d8b3a",
        "type": "json",
        "z": "b1082b07.22e178",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 860,
        "wires": [
            [
                "ce9bf11a.eb714"
            ]
        ]
    },
    {
        "id": "72ee2b69.4d8694",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "mam - 10.1.1",
        "info": "See OEC Development Guideline chapter 10.1.1 for **mam** related details.",
        "x": 110,
        "y": 340,
        "wires": []
    },
    {
        "id": "aa8aa7aa.8f1f58",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "health - 10.1.2",
        "info": "See OEC Development Guideline chapter 10.1.2 for **health** related details.",
        "x": 110,
        "y": 500,
        "wires": []
    },
    {
        "id": "38962dc2.ad0402",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "config - 10.1.3",
        "info": "See OEC Development Guideline chapter 10.1.3 for **config** related details.",
        "x": 110,
        "y": 824,
        "wires": []
    },
    {
        "id": "8780042b.b20e78",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "license - 10.1.4",
        "info": "See OEC Development Guideline chapter 10.1.4 for **license** related details.",
        "x": 120,
        "y": 984,
        "wires": []
    },
    {
        "id": "f0f76c9f.d13e4",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "licenseText - 10.1.5",
        "info": "See OEC Development Guideline chapter 10.1.5 for **licenseText** related details.",
        "x": 130,
        "y": 1140,
        "wires": []
    },
    {
        "id": "8571efe4.8807b",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "rtLicense - 10.1.6",
        "info": "See OEC Development Guideline chapter 10.1.6 for **rtLicense** related details.",
        "x": 120,
        "y": 1301,
        "wires": []
    },
    {
        "id": "7a8d041e.9cedfc",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "data - 10.1.7",
        "info": "See OEC Development Guideline chapter 10.1.7 for **data** related details.",
        "x": 110,
        "y": 1460,
        "wires": []
    },
    {
        "id": "4550b376.12fe1c",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "metadata - 10.1.8",
        "info": "See OEC Development Guideline chapter 10.1.8 for **metadata** related details.",
        "x": 120,
        "y": 1520,
        "wires": []
    },
    {
        "id": "af3c0122.14176",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "event - 10.1.9",
        "info": "See OEC Development Guideline chapter 10.1.9 for **event** related details.",
        "x": 110,
        "y": 1580,
        "wires": []
    },
    {
        "id": "174f9bfb.2f69c4",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "profil - 10.1.10",
        "info": "See OEC Development Guideline chapter 10.1.10 for **profil** related details.",
        "x": 110,
        "y": 1883,
        "wires": []
    },
    {
        "id": "19c7974.dde2a69",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "publicationList - 10.1.11",
        "info": "See OEC Development Guideline chapter 10.1.11 for **publicationList** related details.",
        "x": 140,
        "y": 2043,
        "wires": []
    },
    {
        "id": "e323bdeb.fd845",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "subscriptionList - 10.1.12",
        "info": "See OEC Development Guideline chapter 10.1.12 for **subscriptionList** related details.",
        "x": 150,
        "y": 2200,
        "wires": []
    },
    {
        "id": "2920d5f8.3b59ba",
        "type": "mqtt in",
        "z": "b1082b07.22e178",
        "name": "interfaces",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 160,
        "y": 2400,
        "wires": [
            [
                "e133cca7.2489d"
            ]
        ]
    },
    {
        "id": "7c1fe82b.a1a648",
        "type": "function",
        "z": "b1082b07.22e178",
        "name": "interfaces",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {}\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.interfaces\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\n\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyAppDataSetWriterId\") + 10;\n//msg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"MyAppMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/interfaces\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/interfaces/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 2400,
        "wires": [
            [
                "d40f131b.d8c11"
            ]
        ]
    },
    {
        "id": "ceaea337.54ba3",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub interface",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 2460,
        "wires": [
            [
                "7c1fe82b.a1a648"
            ]
        ]
    },
    {
        "id": "e133cca7.2489d",
        "type": "json",
        "z": "b1082b07.22e178",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 2400,
        "wires": [
            [
                "7c1fe82b.a1a648"
            ]
        ]
    },
    {
        "id": "51a332fd.2af1fc",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "interfaces - 10.1.13",
        "info": "See OEC Development Guideline chapter 10.1.13 for **interfaces** related details.",
        "x": 130,
        "y": 2360,
        "wires": []
    },
    {
        "id": "51f355c3.75f42c",
        "type": "mqtt in",
        "z": "b1082b07.22e178",
        "name": "referenceDesignation",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 200,
        "y": 2560,
        "wires": [
            [
                "84fcae45.f8153"
            ]
        ]
    },
    {
        "id": "2c153459.5e917c",
        "type": "function",
        "z": "b1082b07.22e178",
        "name": "referenceDesignation",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n    {\n        \"DataSetWriterId\": 0,\n        \"filter\": \"\",\n        \"subResource\": \"\",\n        \"Payload\": {\n            \"location\": {\n            \"value\": \"<designation value>\",\n            \"local\": \"<local designation value>\",\n            \"parent\": {\n                \"value\": \"<designation value>\",\n                \"local\": \"<local designation value>\",\n                \"oi4Identifier\": \"<oi4_identifier>\"\n            }\n        },\n            \"function\": {\n            \"value\": \"<designation value>\",\n            \"local\": \"<local designation value\",\n            \"parent\": {\n                \"value\": \"<designation value>\",\n                \"local\": \"<local designation value>\",\n                \"oi4Identifier\": \"<oi4_identifier>\"\n            }\n        },\n        \"product\": {\n            \"value\": \"<designation value>\",\n            \"local\": \"<local designation value>\",\n            \"parent\": {\n                \"value\": \"<designation value>\",\n                \"local\": \"<local designation value>\",\n                \"oi4Identifier\": \"<oi4_identifier>\"\n            }\n        }\n      }\n    }\n  ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.referenceDesignation\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyAppDataSetWriterId\") + 14;\n//msg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"MyAppMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\nmsg.payload.Messages[0].Status = 2147876864;\n    //...as an example, here with \"BadEncodingError\", because this object might not be IEC conform yet...\n    //\"ErrorShorthand\": \"BadEncodingError\",\n    //\"ErrorCode\": \"0x80060000\",\n    //\"Errordescription\": \"Encoding halted because of invalid data in the objects being serialized.\"\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/referenceDesignation\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/referenceDesignation/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 2560,
        "wires": [
            [
                "5bf23cc4.91b124"
            ]
        ]
    },
    {
        "id": "8a5741ef.d7e5d",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "pub referenceDesignation",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 2620,
        "wires": [
            [
                "2c153459.5e917c"
            ]
        ]
    },
    {
        "id": "84fcae45.f8153",
        "type": "json",
        "z": "b1082b07.22e178",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 2560,
        "wires": [
            [
                "2c153459.5e917c"
            ]
        ]
    },
    {
        "id": "61105ce0.1657a4",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "referenceDesignation - 10.1.14",
        "info": "See OEC Development Guideline chapter 10.1.14 for **referenceDesignation** related details.",
        "x": 170,
        "y": 2520,
        "wires": []
    },
    {
        "id": "3829f55b.9dc4fa",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "mam",
        "links": [
            "4c9dd67a.e933e8",
            "60fda968.d0da18"
        ],
        "x": 935,
        "y": 380,
        "wires": []
    },
    {
        "id": "e9fff8ee.1e95e8",
        "type": "debug",
        "z": "b1082b07.22e178",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1110,
        "y": 440,
        "wires": []
    },
    {
        "id": "9878fe93.c4bee",
        "type": "mqtt out",
        "z": "b1082b07.22e178",
        "name": "",
        "topic": "",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "c38c2dc5.8f31d",
        "x": 1090,
        "y": 380,
        "wires": []
    },
    {
        "id": "4c9dd67a.e933e8",
        "type": "link in",
        "z": "b1082b07.22e178",
        "name": "mqtt out",
        "links": [
            "3829f55b.9dc4fa",
            "e7059196.e4ebc",
            "c5c1d484.ad9d98",
            "fff5a9ba.640648",
            "f5be819f.20048",
            "339ae13.e1cca1e",
            "f7ab7002.609e2",
            "b7d2b486.c84f08",
            "ee0be35c.f603b",
            "d40f131b.d8c11",
            "5bf23cc4.91b124",
            "a517cf66.0954",
            "6113eae9.f9e504",
            "72d4c1c8.dff89"
        ],
        "x": 995,
        "y": 380,
        "wires": [
            [
                "9878fe93.c4bee",
                "e9fff8ee.1e95e8"
            ]
        ]
    },
    {
        "id": "e7059196.e4ebc",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "health",
        "links": [
            "4c9dd67a.e933e8",
            "60fda968.d0da18"
        ],
        "x": 935,
        "y": 540,
        "wires": []
    },
    {
        "id": "c5c1d484.ad9d98",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "config",
        "links": [
            "4c9dd67a.e933e8",
            "60fda968.d0da18"
        ],
        "x": 935,
        "y": 860,
        "wires": []
    },
    {
        "id": "fff5a9ba.640648",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "license",
        "links": [
            "4c9dd67a.e933e8",
            "60fda968.d0da18"
        ],
        "x": 935,
        "y": 1020,
        "wires": []
    },
    {
        "id": "f5be819f.20048",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "licenseText",
        "links": [
            "4c9dd67a.e933e8",
            "60fda968.d0da18"
        ],
        "x": 935,
        "y": 1181,
        "wires": []
    },
    {
        "id": "339ae13.e1cca1e",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "rtLicense",
        "links": [
            "4c9dd67a.e933e8",
            "60fda968.d0da18"
        ],
        "x": 935,
        "y": 1340,
        "wires": []
    },
    {
        "id": "f7ab7002.609e2",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "event",
        "links": [
            "4c9dd67a.e933e8",
            "60fda968.d0da18"
        ],
        "x": 935,
        "y": 1620,
        "wires": []
    },
    {
        "id": "b7d2b486.c84f08",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "publicationList",
        "links": [
            "4c9dd67a.e933e8",
            "60fda968.d0da18"
        ],
        "x": 935,
        "y": 2077,
        "wires": []
    },
    {
        "id": "ee0be35c.f603b",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "mam",
        "links": [
            "4c9dd67a.e933e8",
            "60fda968.d0da18"
        ],
        "x": 936,
        "y": 2238,
        "wires": []
    },
    {
        "id": "d40f131b.d8c11",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "interfaces",
        "links": [
            "4c9dd67a.e933e8",
            "60fda968.d0da18"
        ],
        "x": 935,
        "y": 2399,
        "wires": []
    },
    {
        "id": "5bf23cc4.91b124",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "referenceDesignation",
        "links": [
            "4c9dd67a.e933e8",
            "60fda968.d0da18"
        ],
        "x": 935,
        "y": 2560,
        "wires": []
    },
    {
        "id": "a517cf66.0954",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "profile",
        "links": [
            "4c9dd67a.e933e8",
            "60fda968.d0da18"
        ],
        "x": 935,
        "y": 1918,
        "wires": []
    },
    {
        "id": "26997ab3.693a16",
        "type": "mqtt in",
        "z": "b1082b07.22e178",
        "name": "license",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 150,
        "y": 1020,
        "wires": [
            [
                "53378be0.1323a4"
            ]
        ]
    },
    {
        "id": "e9dc57aa.85a578",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "Attention: Not yet fully defined!",
        "info": "",
        "x": 460,
        "y": 2360,
        "wires": []
    },
    {
        "id": "57ee4b90.495c24",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "event ne107/normal",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"Payload\":{\"number\":0,\"description\":\"all normal\",\"category\":\"CAT_NE107_2\",\"details\":{\"diagnosticCode\":\"F-238\",\"location\":\"my location\"}}}",
        "payloadType": "json",
        "x": 150,
        "y": 1738,
        "wires": [
            [
                "5ca4c8e6.df98e8"
            ]
        ]
    },
    {
        "id": "e539cd2c.1af11",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "event status/uncertain",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"Payload\":{\"number\":1083375616,\"description\":\"The value is at one of the sensor limits.\",\"category\":\"CAT_STATUS_1\",\"details\":{\"symbolicId\":\"Uncertain\"}}}",
        "payloadType": "json",
        "x": 160,
        "y": 1698,
        "wires": [
            [
                "5ca4c8e6.df98e8"
            ]
        ]
    },
    {
        "id": "9d7a6a5f.bdf0e8",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "event ne107/maintenanceRequired",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"Payload\":{\"number\":4,\"description\":\"all norbrokenmal\",\"category\":\"CAT_NE107_2\",\"details\":{\"diagnosticCode\":\"F-238\",\"location\":\"my location\"}}}",
        "payloadType": "json",
        "x": 200,
        "y": 1778,
        "wires": [
            [
                "5ca4c8e6.df98e8"
            ]
        ]
    },
    {
        "id": "b2c0ab95.53a118",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "event generic/high",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"Payload\":{\"number\":55,\"description\":\"I don't know\",\"category\":\"CAT_GENERIC_99\",\"details\":{\"test\":\"testtest\"}}}",
        "payloadType": "json",
        "x": 150,
        "y": 1818,
        "wires": [
            [
                "5ca4c8e6.df98e8"
            ]
        ]
    },
    {
        "id": "5ca4c8e6.df98e8",
        "type": "function",
        "z": "b1082b07.22e178",
        "name": "event",
        "func": "var myPayload = msg.payload.Payload;\nvar myCategory = \"\";\nvar myFilter = \"\";\n\nif (myPayload.category === \"CAT_SYSLOG_0\") {\n    myCategory = \"syslog\";\n    //Calculate severity from PRI (=> PRI & 0x07) => needed for <filter>\n    //          facility from PRI (=> PRI >> 3)   => not needed\n    switch (myPayload.number & 0x07) {\n        case 0 :\n            myFilter = \"emergency\";\n            break;\n        case 1 :\n            myFilter = \"alert\";\n            break;\n        case 2 :\n            myFilter = \"critical\";\n            break;\n        case 3 :\n            myFilter = \"error\";\n            break;\n        case 4 :\n            myFilter = \"warning\";\n            break;\n        case 5 :\n            myFilter = \"notice\";\n            break;\n        case 6 :\n            myFilter = \"informational\";\n            break;\n        case 7 :\n            myFilter = \"debug\";\n            break;\n        default :\n            myFilter = \"emergency\";\n            break;\n    }\n    node.warn (myFilter);\n}\nelse if (myPayload.category === \"CAT_STATUS_1\") {\n    myCategory = \"opcSC\";\n    switch (myPayload.number >> 24) {\n        case 0 :\n            myFilter = \"good\";\n            break;\n        case 0x40 :\n            myFilter = \"uncertain\";\n            break;\n        case 0x80 :\n            myFilter = \"bad\";\n            break;\n        default :\n            myFilter = \"bad\";\n            break;\n    }\n    node.warn (myFilter);\n}\nelse if (myPayload.category === \"CAT_NE107_2\") {\n    myCategory = \"ne107\";\n    switch (myPayload.number) {\n        case 0 :\n            myFilter = \"normal\";\n            break;\n        case 1 :\n            myFilter = \"failure\";\n            break;\n        case 2 :\n            myFilter = \"checkFunction\";\n            break;\n        case 3 :\n            myFilter = \"outOfSpecification\";\n            break;\n        case 4 :\n            myFilter = \"maintenanceRequired\";\n            break;\n        default :\n            myFilter = \"maintenanceRequired\";\n            break;\n    }\n    node.warn (myFilter);\n}\nelse if (myPayload.category === \"CAT_GENERIC_99\") {\n    myCategory = \"generic\";\n    myFilter = \"high\";\n    node.warn (myFilter);\n}\nelse {\n    myCategory = \"undefined\";\n    myFilter = \"undefined\";\n    node.error (myFilter);\n}\n\n/*\n    \"category\": \"syslog\",\n    \"filter\": \"debug, informational, notice, warning, error, critical, alert, emergency\"\n    \"category\": \"ne107\",\n    \"filter\": \"normal, failure, checkFunction, outOfSpecification, maintenanceRequired\"\n    \"category\": \"opcSC\",\n    \"filter\": \"good, uncertain or bad\"\n    \"category\": \"generic\",\n    \"filter\": \"high, medium, low\"\n*/\n\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"number\": 0,\n                \"description\": \"\"\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.event\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyDevDataSetWriterId\") + 9;\nmsg.payload.Messages[0].filter = myFilter;\nmsg.payload.Messages[0].subResource = myCategory;//global.get(\"MyAppMAM1.ProductInstanceUri\");\n\nmsg.payload.Messages[0].Payload.origin = global.get(\"MyAppMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nif (myPayload !== undefined)\n{\n    msg.payload.Messages[0].Payload = myPayload;\n}  \n\nmsg.topic = \"oi4\" + \"/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/event/\" + myCategory + \"/\" + myFilter;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 1618,
        "wires": [
            [
                "f7ab7002.609e2"
            ]
        ]
    },
    {
        "id": "9699f6f2.652b48",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "event status/good",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"Payload\":{\"number\":10813440,\"description\":\"No data exists for the requested time range or event filter.\",\"category\":\"CAT_STATUS_1\",\"details\":{\"symbolicId\":\"Good\"}}}",
        "payloadType": "json",
        "x": 150,
        "y": 1618,
        "wires": [
            [
                "5ca4c8e6.df98e8"
            ]
        ]
    },
    {
        "id": "97ead2bc.17285",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "event status/bad",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"Payload\":{\"number\":2147549184,\"description\":\"An unexpected error occurred.\",\"category\":\"CAT_STATUS_1\",\"details\":{\"symbolicId\":\"Bad\"}}}",
        "payloadType": "json",
        "x": 140,
        "y": 1658,
        "wires": [
            [
                "5ca4c8e6.df98e8"
            ]
        ]
    },
    {
        "id": "26b84327.72337c",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "event syslog/notice",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"Payload\":{\"number\":165,\"category\":\"CAT_SYSLOG_0\",\"details\":{\"MSG\":\"BOMAn application log entry...\",\"HEADER\":\"2003-10-11T22:14:15.003Z mymachine.example.com\"}}}",
        "payloadType": "json",
        "x": 490,
        "y": 1698,
        "wires": [
            [
                "5ca4c8e6.df98e8"
            ]
        ]
    },
    {
        "id": "6d8cb542.1798ac",
        "type": "inject",
        "z": "b1082b07.22e178",
        "name": "event syslog/alert",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"Payload\":{\"number\":161,\"category\":\"CAT_SYSLOG_0\",\"details\":{\"MSG\":\"BOMAn application log entry...\",\"HEADER\":\"2003-10-11T22:14:15.003Z mymachine.example.com\"}}}",
        "payloadType": "json",
        "x": 480,
        "y": 1738,
        "wires": [
            [
                "5ca4c8e6.df98e8"
            ]
        ]
    },
    {
        "id": "8ed0838d.ebe0f",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "Attention: Not yet fully defined!",
        "info": "",
        "x": 460,
        "y": 1301,
        "wires": []
    },
    {
        "id": "0e0195b169697642",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "mam_topic",
        "mode": "link",
        "links": [
            "596b3e311d30e512"
        ],
        "x": 455,
        "y": 80,
        "wires": []
    },
    {
        "id": "e1e2ce48e180dc5a",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "health_topic",
        "mode": "link",
        "links": [
            "ed1dd09bc1cb6be7"
        ],
        "x": 455,
        "y": 100,
        "wires": []
    },
    {
        "id": "c40559b1475ff728",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "config_topic",
        "mode": "link",
        "links": [
            "05a8c5567d34610c"
        ],
        "x": 455,
        "y": 120,
        "wires": []
    },
    {
        "id": "1cc58db839c034d2",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "license_topic",
        "mode": "link",
        "links": [
            "5e57610fbe5a3e02"
        ],
        "x": 455,
        "y": 140,
        "wires": []
    },
    {
        "id": "9002297b17939dd6",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "licenseText_topic",
        "mode": "link",
        "links": [
            "f383bef905402cd8"
        ],
        "x": 455,
        "y": 160,
        "wires": []
    },
    {
        "id": "c3465ad5483c5086",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "rtLicense_topic",
        "mode": "link",
        "links": [
            "44d1af3d6fd30736"
        ],
        "x": 455,
        "y": 180,
        "wires": []
    },
    {
        "id": "cc4897763b225157",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "profile_topic",
        "mode": "link",
        "links": [
            "287404d5d59c683f"
        ],
        "x": 455,
        "y": 200,
        "wires": []
    },
    {
        "id": "8b6776f2a9415e59",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "publicationList_topic",
        "mode": "link",
        "links": [
            "3ff20fc5fe5967a4"
        ],
        "x": 455,
        "y": 220,
        "wires": []
    },
    {
        "id": "48ea05ded3ab000b",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "subscriptionList_topic",
        "mode": "link",
        "links": [
            "b508439aaa63cae4"
        ],
        "x": 455,
        "y": 240,
        "wires": []
    },
    {
        "id": "f58d3aa4cb091331",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "interfaces_topic",
        "mode": "link",
        "links": [
            "75b31a89cec04761"
        ],
        "x": 455,
        "y": 260,
        "wires": []
    },
    {
        "id": "e38c5f00cabd0826",
        "type": "link out",
        "z": "b1082b07.22e178",
        "name": "referenceDesignation_topic",
        "mode": "link",
        "links": [
            "9d7a5ea7752d1484"
        ],
        "x": 455,
        "y": 280,
        "wires": []
    },
    {
        "id": "596b3e311d30e512",
        "type": "link in",
        "z": "b1082b07.22e178",
        "name": "mam_in",
        "links": [
            "0e0195b169697642"
        ],
        "x": 55,
        "y": 380,
        "wires": [
            [
                "111f590.9d988a7"
            ]
        ]
    },
    {
        "id": "ed1dd09bc1cb6be7",
        "type": "link in",
        "z": "b1082b07.22e178",
        "name": "health_in",
        "links": [
            "e1e2ce48e180dc5a"
        ],
        "x": 55,
        "y": 540,
        "wires": [
            [
                "34eef4fc.aa771c"
            ]
        ]
    },
    {
        "id": "05a8c5567d34610c",
        "type": "link in",
        "z": "b1082b07.22e178",
        "name": "config_in",
        "links": [
            "c40559b1475ff728"
        ],
        "x": 55,
        "y": 860,
        "wires": [
            [
                "2bbce2e1.c8796e"
            ]
        ]
    },
    {
        "id": "5e57610fbe5a3e02",
        "type": "link in",
        "z": "b1082b07.22e178",
        "name": "license_in",
        "links": [
            "1cc58db839c034d2"
        ],
        "x": 55,
        "y": 1020,
        "wires": [
            [
                "26997ab3.693a16"
            ]
        ]
    },
    {
        "id": "f383bef905402cd8",
        "type": "link in",
        "z": "b1082b07.22e178",
        "name": "licenseText_in",
        "links": [
            "9002297b17939dd6"
        ],
        "x": 55,
        "y": 1180,
        "wires": [
            [
                "3e3ecf82.35b69"
            ]
        ]
    },
    {
        "id": "44d1af3d6fd30736",
        "type": "link in",
        "z": "b1082b07.22e178",
        "name": "rtLichense_in",
        "links": [
            "c3465ad5483c5086"
        ],
        "x": 55,
        "y": 1340,
        "wires": [
            [
                "5097b87a.095258"
            ]
        ]
    },
    {
        "id": "287404d5d59c683f",
        "type": "link in",
        "z": "b1082b07.22e178",
        "name": "profile_in",
        "links": [
            "cc4897763b225157"
        ],
        "x": 55,
        "y": 1920,
        "wires": [
            [
                "da4ad56f.69a098"
            ]
        ]
    },
    {
        "id": "3ff20fc5fe5967a4",
        "type": "link in",
        "z": "b1082b07.22e178",
        "name": "publicationList_in",
        "links": [
            "8b6776f2a9415e59"
        ],
        "x": 55,
        "y": 2080,
        "wires": [
            [
                "bd958710.46fdb8"
            ]
        ]
    },
    {
        "id": "b508439aaa63cae4",
        "type": "link in",
        "z": "b1082b07.22e178",
        "name": "subscriptionList_in",
        "links": [
            "48ea05ded3ab000b"
        ],
        "x": 56,
        "y": 2241,
        "wires": [
            [
                "523b4381.7d75ac"
            ]
        ]
    },
    {
        "id": "75b31a89cec04761",
        "type": "link in",
        "z": "b1082b07.22e178",
        "name": "interfaces_in",
        "links": [
            "f58d3aa4cb091331"
        ],
        "x": 55,
        "y": 2399,
        "wires": [
            [
                "2920d5f8.3b59ba"
            ]
        ]
    },
    {
        "id": "9d7a5ea7752d1484",
        "type": "link in",
        "z": "b1082b07.22e178",
        "name": "referenceDesignation_in",
        "links": [
            "e38c5f00cabd0826"
        ],
        "x": 55,
        "y": 2560,
        "wires": [
            [
                "51f355c3.75f42c"
            ]
        ]
    },
    {
        "id": "cbec6383fa41cdbd",
        "type": "comment",
        "z": "b1082b07.22e178",
        "name": "At least a part of the data should be implemented in \"MyApp\"...",
        "info": "# it is all implemented in \"MyDevice\"",
        "x": 520,
        "y": 1460,
        "wires": []
    },
    {
        "id": "5abc69a3.0c62d8",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub device",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "4",
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 380,
        "wires": [
            [
                "5a8bb607.1aecd8"
            ]
        ]
    },
    {
        "id": "3f63cc46.28f884",
        "type": "debug",
        "z": "902d4972.d3b7a8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1110,
        "y": 380,
        "wires": []
    },
    {
        "id": "f7736c44.3fbcf",
        "type": "mqtt in",
        "z": "902d4972.d3b7a8",
        "name": "Master Asset Model",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 190,
        "y": 320,
        "wires": [
            [
                "6e6870cd.d8829"
            ]
        ]
    },
    {
        "id": "3601528c.9e3b8e",
        "type": "mqtt in",
        "z": "902d4972.d3b7a8",
        "name": "health",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 150,
        "y": 480,
        "wires": [
            [
                "f0e320e5.60142"
            ]
        ]
    },
    {
        "id": "de1807d1.612048",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub health (Normal/0, 100%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"NORMAL_0\",\"healthScore\":100}}",
        "payloadType": "json",
        "x": 180,
        "y": 540,
        "wires": [
            [
                "6fbe0786.582fd8"
            ]
        ]
    },
    {
        "id": "3781fbbf.fa33b4",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub health (Failure/1, 0%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"FAILURE_1\",\"healthScore\":0}}",
        "payloadType": "json",
        "x": 171,
        "y": 580,
        "wires": [
            [
                "6fbe0786.582fd8"
            ]
        ]
    },
    {
        "id": "98155ae3.818f38",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub data (cyclic)",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"Payload\":{\"I_data1\":0,\"I_data2\":0}}",
        "payloadType": "json",
        "x": 140,
        "y": 1240,
        "wires": [
            [
                "6fcb2663.55c668"
            ]
        ]
    },
    {
        "id": "1a32396c.336d77",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub data (reset)",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"Payload\":{\"I_data1\":0,\"I_data2\":0}}",
        "payloadType": "json",
        "x": 140,
        "y": 1280,
        "wires": [
            [
                "812e4c0.08cc1b8"
            ]
        ]
    },
    {
        "id": "389c1f76.3ddfb",
        "type": "mqtt in",
        "z": "902d4972.d3b7a8",
        "name": "data (MyFirstData)",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 190,
        "y": 1180,
        "wires": [
            [
                "1de6e107.be15bf"
            ]
        ]
    },
    {
        "id": "8f00d75b.cebf58",
        "type": "function",
        "z": "902d4972.d3b7a8",
        "name": "data",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nif (msg.payload.Payload !== undefined)\n{\n    var myPayload = msg.payload.Payload;\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"MetaDataVersion\": {\n                \"majorVersion\": 12345678, \n                \"minorVersion\": 12345678\n            },\n            \"Payload\": {\n                \"I_data1\": 0,\n                \"I_data2\": 0\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyDevDataSetWriterId\") + 10;\nmsg.payload.Messages[0].filter = \"MyFirstData\";\nmsg.payload.Messages[0].subResource = global.get(\"MyDevMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nif (myPayload !== undefined)\n{\n    msg.payload.Messages[0].Payload = myPayload;\n}  \n\n//Note: At least a part of the data should be implemented in \"MyApp\"\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/data\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/data/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\n}\nelse if ( (iTopicHirarchyLength > global.get(\"TopicHirarchyLengthMiddle\")) & (iTopicHirarchyLength <= global.get(\"TopicHirarchyLengthLongest\")) ) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/data/\" + global.get(\"MyDevMAM1.ProductInstanceUri\") + \"/MyFirstData\";\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 529,
        "y": 1179,
        "wires": [
            [
                "be877837.717fe8"
            ]
        ]
    },
    {
        "id": "ad872434.89e8b8",
        "type": "mqtt in",
        "z": "902d4972.d3b7a8",
        "name": "metadata (MyFirstData)",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 200,
        "y": 1380,
        "wires": [
            [
                "700df73a.a072b8"
            ]
        ]
    },
    {
        "id": "6892d094.c1d25",
        "type": "function",
        "z": "902d4972.d3b7a8",
        "name": "metadata",
        "func": "//Find out, if explicit or summarized request (7 = summarizes, >7 = explicite, <7 = error)\nvar iTopicHirarchyLength = msg.topic.split(\"/\").length - 1;\n\nvar myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-metadata\",\n    \"PublisherId\": \"\",\n    \"DataSetWriterId\": 0,\n    \"filter\": \"\",\n    \"subResource\": \"\",\n    \"MetaData\": {\n        \"name\": \"ApplicationLEDs\",\n        \"description\": {\n            \"locale\": \"en-US\",\n            \"text\": \"My application LEDs\"\n        },\n        \"fields\": [\n            {\n                \"name\": \"led01\",\n                \"description\": { \"locale\": \"en-US\", \"text\": \"LED 1\" },\n                \"fieldFlags\": 0,\n                \"builtInType\": 1,\n                \"dataType\": { \"IdType\": 0, \"Id\": 1 },\n                \"valueRank\": -1,\n                \"arrayDimensions\": [],\n                \"maxStringLength\": 0,\n                \"dataSetFieldId\": \"C7D1F5AF-63C2-4030-B819-565205669E7C\",\n                \"properties\": []\n            },\n            {\n                \"name\": \"led02\",\n                \"description\": { \"locale\": \"en-US\", \"text\": \"LED 1\" },\n                \"fieldFlags\": 0,\n                \"builtInType\": 1,\n                \"dataType\": { \"IdType\": 0, \"Id\": 1 },\n                \"valueRank\": -1,\n                \"arrayDimensions\": null,\n                \"maxStringLength\": 0,\n                \"dataSetFieldId\": \"ADC1B146-7ACB-4059-AB83-3F56713CED5D\",\n                \"properties\": []\n            }\n        ],\n        \"dataSetClassId\": null,\n        \"configurationVersion\": {\n            \"majorVersion\": 12345678, \n            \"minorVersion\": 12345678\n        },\n        \"namespaces\": [],\n        \"structureDataTypes\": [],\n        \"enumDataTypes\": [],\n        \"simpleDataTypes\": []\n    }\n}\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\nmsg.payload.DataSetWriterId = global.get(\"MyDevDataSetWriterId\") + 10;\nmsg.payload.filter = \"MyFirstData\";\nmsg.payload.subResource = global.get(\"MyDevMAM1.ProductInstanceUri\");\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\n//Note: At least a part of the metadata should be implemented in \"MyApp\"\nif (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthShortest\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/metadata\";\n}\nelse if (iTopicHirarchyLength == global.get(\"TopicHirarchyLengthMiddle\")) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/metadata/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\n}\nelse if ( (iTopicHirarchyLength > global.get(\"TopicHirarchyLengthMiddle\")) & (iTopicHirarchyLength <= global.get(\"TopicHirarchyLengthLongest\")) ) {\n    msg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/metadata/\" + global.get(\"MyDevMAM1.ProductInstanceUri\") + \"/MyFirstData\";\n}\nelse {\n    node.error(\"wrong count of topic elements!\");\n}\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 1380,
        "wires": [
            [
                "29a1ec3b.1782f4"
            ]
        ]
    },
    {
        "id": "7858057b.22ce8c",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub metadata",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1440,
        "wires": [
            [
                "6892d094.c1d25"
            ]
        ]
    },
    {
        "id": "6e6870cd.d8829",
        "type": "json",
        "z": "902d4972.d3b7a8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 320,
        "wires": [
            [
                "5a8bb607.1aecd8"
            ]
        ]
    },
    {
        "id": "f0e320e5.60142",
        "type": "json",
        "z": "902d4972.d3b7a8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 479,
        "wires": [
            [
                "6fbe0786.582fd8"
            ]
        ]
    },
    {
        "id": "1de6e107.be15bf",
        "type": "json",
        "z": "902d4972.d3b7a8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 389,
        "y": 1180,
        "wires": [
            [
                "8f00d75b.cebf58"
            ]
        ]
    },
    {
        "id": "700df73a.a072b8",
        "type": "json",
        "z": "902d4972.d3b7a8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 1380,
        "wires": [
            [
                "6892d094.c1d25"
            ]
        ]
    },
    {
        "id": "429b060c.f25438",
        "type": "mqtt in",
        "z": "902d4972.d3b7a8",
        "name": "profile",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 150,
        "y": 1600,
        "wires": [
            [
                "d3f3096b.327258"
            ]
        ]
    },
    {
        "id": "9f0edbef.f0fdd8",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub profile",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 1660,
        "wires": [
            [
                "c1fea1e9.d4173"
            ]
        ]
    },
    {
        "id": "d3f3096b.327258",
        "type": "json",
        "z": "902d4972.d3b7a8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 1600,
        "wires": [
            [
                "c1fea1e9.d4173"
            ]
        ]
    },
    {
        "id": "d291827f.2bbb8",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub health (ChekFunction/2, 80%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"CHECK_FUNCTION_2\",\"healthScore\":80}}",
        "payloadType": "json",
        "x": 200,
        "y": 620,
        "wires": [
            [
                "6fbe0786.582fd8"
            ]
        ]
    },
    {
        "id": "f4168bea.f3ea68",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub health (OffSpec/3, 70%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"OFF_SPEC_3\",\"healthScore\":70}}",
        "payloadType": "json",
        "x": 180,
        "y": 660,
        "wires": [
            [
                "6fbe0786.582fd8"
            ]
        ]
    },
    {
        "id": "c31897cb.7c01a8",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub health (MaintenanceRequired/4, 30%)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"MAINTENANCE_REQUIRED_4\",\"healthScore\":30}}",
        "payloadType": "json",
        "x": 220,
        "y": 699,
        "wires": [
            [
                "6fbe0786.582fd8"
            ]
        ]
    },
    {
        "id": "ef423db0.a932",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub health (undefined/7, 112%) !!!",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "{\"Payload\":{\"health\":\"UNDEF_7\",\"healthScore\":112}}",
        "payloadType": "json",
        "x": 190,
        "y": 737,
        "wires": [
            [
                "6fbe0786.582fd8"
            ]
        ]
    },
    {
        "id": "ae673761.bfb1c8",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "------------------------------------------------------------ MyDevice basics ------------------------------------------------------------",
        "info": "**MyDevice** emulates a device which was detected from **MyApp**.\nIndeed the application detected \"some how\" a device and found out what Master Asset Model, etc. it has.\n\n**MyDevice** can not publish straight to the message bus - but this is, what **MyApp** is made for.\n\n**MyApp** with the oi4Identifier created in function node `MyApp/init`, is the publischer of the the new detected device. \nTherefore the `PublisherId` is always the `oi4Identifier` from the application.\n\n**MyDevice** with the oi4Identifier created in function node `MyDevice/init` is the source of the device specific values.\n\nIf you want to use it in combination with AAS or other platforms in parallel, please change at least the serial number of the device to create a unique instance!\nTo do so change this:\n 1. Change at least the serialnumber in mam. Go to function node called `init` to do so.\n 2. Other than for **MyApp**, no changes needed for serialnumber in birth, disconnect and will message of the MQTT client, because the device does not have its own MQTT client, it uses the one from **MyApp**.\n\n",
        "x": 410,
        "y": 40,
        "wires": []
    },
    {
        "id": "5a8bb607.1aecd8",
        "type": "function",
        "z": "902d4972.d3b7a8",
        "name": "Master Asset Model",
        "func": "var myCorrelationId = \"\";\n\n/* \n  Do we have to manipulate the correlationId, \n  because request (get) comes from somewere? \n*/\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"<timestamp + publisherId>\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"<serviceType>/<oi4Identifier of application container>\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": { }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.mam\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyDevDataSetWriterId\") + 1;\nmsg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"MyDevMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nmsg.payload.Messages[0].Payload = global.get(\"MyDevMAM1\");\n\nmsg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/mam/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 320,
        "wires": [
            [
                "aed404ea.b5bfe8"
            ]
        ]
    },
    {
        "id": "6fbe0786.582fd8",
        "type": "function",
        "z": "902d4972.d3b7a8",
        "name": "health",
        "func": "var myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\n/* We got fresh data direct from sensor */\nif (msg.payload.Payload !== undefined)\n{\n    var myPayload = msg.payload.Payload;\n}\n\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"health\": \"NORMAL_0\",\n                \"healthScore\": 100\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.health\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyDevDataSetWriterId\") + 2;\nmsg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"MyDevMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nif (myPayload !== undefined)\n{\n    msg.payload.Messages[0].Payload = myPayload;\n}\n\nmsg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/health/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 479,
        "wires": [
            [
                "1c0c25c4.6e332a"
            ]
        ]
    },
    {
        "id": "c1fea1e9.d4173",
        "type": "function",
        "z": "902d4972.d3b7a8",
        "name": "profile",
        "func": "var myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": [\n                    \"mam\",\n                    \"health\",\n                    \"rtLicense\",\n                    \"data\",\n                    \"metadata\",\n                    \"profile\",\n                    \"interfaces\",\n                    \"referenceDesignation\"\n                ]\n            }\n        }\n    ]\n};\n\n/*\n\"resource\": [\n                    \"mam\",\n                    \"health\",\n                    \"data\",\n                    \"metadata\",\n                    \"event\",\n                    \"profile\",\n                    \"interfaces\",       => not yet implemented\n                    \"referenceDesignation\"\n                ]\n*/\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.profile\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyDevDataSetWriterId\") + 3;\nmsg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"MyDevMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nmsg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/profile/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 1600,
        "wires": [
            [
                "8f7dd2ae.fe8b2"
            ]
        ]
    },
    {
        "id": "761711f4.c39b3",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 110,
        "y": 150,
        "wires": [
            [
                "c1d68767.5877e8"
            ]
        ]
    },
    {
        "id": "c1d68767.5877e8",
        "type": "function",
        "z": "902d4972.d3b7a8",
        "name": "init",
        "func": "/*\n  Attention: \n  birth, will and close message must be updated separatly from this global settings!\n  Ther is no way to configure this MQTT client settings via js code here.\n  Also the topics of all mqtt-in nodes needs to be updated - therefore the debug \n  outputs of this function prints the calculated topics to all get-topics.\n*/\n\n/*\n  Define content of Master Asset Model aka \"name plate\"\n  As defined in v0.10 of Development Guideline\n*/\nvar myDevMAM = {\n    \"Manufacturer\": {\n        \"locale\": \"en-US\",\n        \"text\": \"DeviceVendor\"\n    },\n    \"ManufacturerUri\": \"devicevendor.com\",\n    \"Model\": {\n        \"locale\": \"en-US\",\n        \"text\": \"DeviceModel\"\n    },\n    \"ProductCode\": \"DeviceProductCode\",\n    \"HardwareRevision\": \"1\",\n    \"SoftwareRevision\": \"1.0.0\",\n    \"DeviceRevision\": \"1\",\n    \"DeviceManual\": \"not available\",\n    \"DeviceClass\": \"Field Device\",\n    \"SerialNumber\": \"5555\",\n    \"ProductInstanceUri\": \"\",\n    \"RevisionCounter\": 1,\n    \"Description\": {\n        \"locale\": \"en-US\",\n        \"text\": \"I am a Field Device\"\n    }\n};\n\n\n/*\n  myDevMAM.ProductInstanceUri is defined as valid URI, and is a valid oi4Identifier.\n  So myAppMAM.ManufacturerUri is not encoded, but all other fields are to avoid \n  special, url-related, characters.\n*/\nmyDevMAM.ProductInstanceUri = myDevMAM.ManufacturerUri +\n                              \"/\" + encodeURIComponent(myDevMAM.Model.text) +\n                              \"/\" + encodeURIComponent(myDevMAM.ProductCode) +\n                              \"/\" + encodeURIComponent(myDevMAM.SerialNumber);\nglobal.set(\"MyDevMAM1\", myDevMAM);\n\n\n/*\n  The DataSetWriterId of each DataSetMessage must be unique. As a helper, \n  this is a global offset, to make it easier to cut'n'past code.\n*/\nglobal.set(\"MyDevDataSetWriterId\", 100);\n\nflow.set(\"MyDevDataCount\", 0);\nflow.set(\"MyDevDataSawtooth\", 0);\n\nvar msgMam = {};\nmsgMam.action         = \"subscribe\";\nmsgMam.topic          = [{}];\nmsgMam.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/mam/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\nmsgMam.topic[0].qos   = 0;\n\nvar msgHealth = {};\nmsgHealth.action         = \"subscribe\";\nmsgHealth.topic          = [{}];\nmsgHealth.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/health/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\nmsgHealth.topic[0].qos   = 0;\n\nvar msgRtLic = {};\nmsgRtLic.action         = \"subscribe\";\nmsgRtLic.topic          = [{}];\nmsgRtLic.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/rtLicense/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\nmsgRtLic.topic[0].qos   = 0;\n\nvar msgData = {};\nmsgData.action        = \"subscribe\";\nmsgData.topic         = [{}, {}, {}];\nmsgData.topic[0].topic= \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/data\";\nmsgData.topic[0].qos  = 0;\nmsgData.topic[1].topic= \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/data/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\nmsgData.topic[1].qos  = 0;\nmsgData.topic[2].topic= \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/data/\" + global.get(\"MyDevMAM1.ProductInstanceUri\") + \"/MyFirstData\";\nmsgData.topic[2].qos  = 0;\n\nvar msgMeta = {};\nmsgMeta.action         = \"subscribe\";\nmsgMeta.topic          = [{}, {}, {}];\nmsgMeta.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/metadata\";\nmsgMeta.topic[0].qos   = 0;\nmsgMeta.topic[1].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/metadata/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\nmsgMeta.topic[1].qos   = 0;\nmsgMeta.topic[2].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/metadata/\" + global.get(\"MyDevMAM1.ProductInstanceUri\") + \"/MyFirstData\";\nmsgMeta.topic[2].qos   = 0;\n\nvar msgProfil = {};\nmsgProfil.action         = \"subscribe\";\nmsgProfil.topic          = [{}];\nmsgProfil.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/profile/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\nmsgProfil.topic[0].qos   = 0;\n\nvar msgItf = {};\nmsgItf.action         = \"subscribe\";\nmsgItf.topic          = [{}];\nmsgItf.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/interface/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\nmsgItf.topic[0].qos   = 0;\n\nvar msgRefDes = {};\nmsgRefDes.action         = \"subscribe\";\nmsgRefDes.topic          = [{}];\nmsgRefDes.topic[0].topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/get/referenceDesignation/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\nmsgRefDes.topic[0].qos   = 0;\n\nreturn [msgMam, msgHealth, msgRtLic, msgData, msgMeta, msgProfil, msgItf, msgRefDes];",
        "outputs": 8,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 160,
        "wires": [
            [
                "66f8477d.9e46a8",
                "1ed44f3442d40ce7"
            ],
            [
                "0253f418fbc73a61"
            ],
            [
                "2a3098f7d94605b2"
            ],
            [
                "913dbe85f6365a5e"
            ],
            [
                "eb545315898a1cb6"
            ],
            [
                "6f5bdd2807684a09"
            ],
            [
                "fa267b4a9896cd9c"
            ],
            [
                "82675677b7751379"
            ]
        ]
    },
    {
        "id": "19ac335d.c24ffd",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "Initialization / ToDos",
        "info": "Initialize the device by configuring the global available name plate (aka MAM) and the oi4Identifier. Open the `init` node for this and change the content.",
        "x": 130,
        "y": 100,
        "wires": []
    },
    {
        "id": "66f8477d.9e46a8",
        "type": "debug",
        "z": "902d4972.d3b7a8",
        "name": "mam topic",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 100,
        "wires": []
    },
    {
        "id": "3851868e.d348aa",
        "type": "mqtt out",
        "z": "902d4972.d3b7a8",
        "name": "",
        "topic": "",
        "qos": "0",
        "retain": "false",
        "broker": "c38c2dc5.8f31d",
        "x": 1090,
        "y": 320,
        "wires": []
    },
    {
        "id": "6fcb2663.55c668",
        "type": "function",
        "z": "902d4972.d3b7a8",
        "name": "",
        "func": "var myDevDataCount = flow.get(\"MyDevDataCount\") + 1;\nvar myDevDataSawtooth = flow.get(\"MyDevDataSawtooth\") + 1;\n\n\nif (myDevDataCount >= 300)\n    myDevDataCount = 0;\nmsg.payload.Payload.I_data1 = myDevDataCount;\n\nif (myDevDataSawtooth >= 100)\n    myDevDataSawtooth = 0;\nmsg.payload.Payload.I_data2 = myDevDataSawtooth;\n\nflow.set(\"MyDevDataCount\", myDevDataCount);\nflow.set(\"MyDevDataSawtooth\", myDevDataSawtooth);\n\nmsg.topic = \"0/1/2/3/4/5/6/7/8/9/10/11\"; //just a dummy\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 335,
        "y": 1240,
        "wires": [
            [
                "8f00d75b.cebf58"
            ]
        ]
    },
    {
        "id": "812e4c0.08cc1b8",
        "type": "function",
        "z": "902d4972.d3b7a8",
        "name": "",
        "func": "var myDevDataCount = 0;\nvar myDevDataSawtooth = 0;\n\nmsg.payload.Payload.I_data1 = myDevDataCount;\nmsg.payload.Payload.I_data2 = myDevDataSawtooth;\n\nflow.set(\"MyDevDataCount\", myDevDataCount);\nflow.set(\"MyDevDataSawtooth\", myDevDataSawtooth);\n\nmsg.topic = \"0/1/2/3/4/5/6/7/8/9/10/11\"; //just a dummy\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 335,
        "y": 1279,
        "wires": [
            [
                "8f00d75b.cebf58"
            ]
        ]
    },
    {
        "id": "e9efd616.b6d7f8",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "mam - 10.1.1",
        "info": "See OEC Development Guideline chapter 10.1.1 for **mam** related details.",
        "x": 110,
        "y": 280,
        "wires": []
    },
    {
        "id": "eb8a8bc2.a24038",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "health - 10.1.2",
        "info": "See OEC Development Guideline chapter 10.1.2 for **health** related details.",
        "x": 110,
        "y": 440,
        "wires": []
    },
    {
        "id": "19437c37.32fe54",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "config - 10.1.3",
        "info": "See OEC Development Guideline chapter 10.1.3 for **config** related details.",
        "x": 110,
        "y": 800,
        "wires": []
    },
    {
        "id": "7493c10d.400b7",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "license - 10.1.4",
        "info": "See OEC Development Guideline chapter 10.1.4 for **license** related details.",
        "x": 120,
        "y": 860,
        "wires": []
    },
    {
        "id": "d189af78.e0bfb",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "licenseText - 10.1.5",
        "info": "See OEC Development Guideline chapter 10.1.5 for **licenseText** related details.",
        "x": 130,
        "y": 920,
        "wires": []
    },
    {
        "id": "d939152.05c79e8",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "rtLicense - 10.1.6",
        "info": "See OEC Development Guideline chapter 10.1.6 for **rtLicense** related details.",
        "x": 120,
        "y": 980,
        "wires": []
    },
    {
        "id": "b2e022de.4205d",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "data - 10.1.7",
        "info": "See OEC Development Guideline chapter 10.1.7 for **data** related details.",
        "x": 110,
        "y": 1140,
        "wires": []
    },
    {
        "id": "1877714e.f0c32f",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "metadata - 10.1.8",
        "info": "See OEC Development Guideline chapter 10.1.8 for **metadata** related details.",
        "x": 120,
        "y": 1340,
        "wires": []
    },
    {
        "id": "cbf770c2.f4f4c",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "event - 10.1.9",
        "info": "See OEC Development Guideline chapter 10.1.9 for **event** related details.",
        "x": 110,
        "y": 1500,
        "wires": []
    },
    {
        "id": "852b72ad.d10a3",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "profil - 10.1.10",
        "info": "See OEC Development Guideline chapter 10.1.10 for **profil** related details.",
        "x": 110,
        "y": 1560,
        "wires": []
    },
    {
        "id": "8a466f89.aa4ee",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "publicationList - 10.1.11",
        "info": "See OEC Development Guideline chapter 10.1.11 for **publicationList** related details.",
        "x": 140,
        "y": 1720,
        "wires": []
    },
    {
        "id": "9d5b2b24.cf07f8",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "subscriptionList - 10.1.12",
        "info": "See OEC Development Guideline chapter 10.1.12 for **subscriptionList** related details.",
        "x": 150,
        "y": 1780,
        "wires": []
    },
    {
        "id": "b55b2951.17e998",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "interfaces - 10.1.13",
        "info": "See OEC Development Guideline chapter 10.1.13 for **interfaces** related details.",
        "x": 130,
        "y": 1840,
        "wires": []
    },
    {
        "id": "cdf3e49c.a21518",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "referenceDesignation - 10.1.14",
        "info": "See OEC Development Guideline chapter 10.1.14 for **referenceDesignation** related details.",
        "x": 170,
        "y": 2000,
        "wires": []
    },
    {
        "id": "e2484135.df18f",
        "type": "mqtt in",
        "z": "902d4972.d3b7a8",
        "name": "interfaces",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 160,
        "y": 1880,
        "wires": [
            [
                "dc95c969.acac68"
            ]
        ]
    },
    {
        "id": "8a191d4b.bb44e",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub interfaces",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1940,
        "wires": [
            [
                "1647dc82.7fffc3"
            ]
        ]
    },
    {
        "id": "dc95c969.acac68",
        "type": "json",
        "z": "902d4972.d3b7a8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 1880,
        "wires": [
            [
                "1647dc82.7fffc3"
            ]
        ]
    },
    {
        "id": "1647dc82.7fffc3",
        "type": "function",
        "z": "902d4972.d3b7a8",
        "name": "interfaces",
        "func": "var myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"resource\": [\n                    \"mam\",\n                    \"health\",\n                    \"data\",\n                    \"metadata\",\n                    \"event\",\n                    \"profile\"\n                ]\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.interfaces\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyDevDataSetWriterId\") + 3;\nmsg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"MyDevMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nmsg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/interfaces/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 1880,
        "wires": [
            [
                "3391409b.bc661"
            ]
        ]
    },
    {
        "id": "b1d9a8f6.65d738",
        "type": "mqtt in",
        "z": "902d4972.d3b7a8",
        "name": "referenceDesignation",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 200,
        "y": 2040,
        "wires": [
            [
                "8c48b328.0067a"
            ]
        ]
    },
    {
        "id": "ae574c13.e47fb",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub referenceDesignation",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 2100,
        "wires": [
            [
                "d7bdcdeb.6c8a1"
            ]
        ]
    },
    {
        "id": "8c48b328.0067a",
        "type": "json",
        "z": "902d4972.d3b7a8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 2040,
        "wires": [
            [
                "d7bdcdeb.6c8a1"
            ]
        ]
    },
    {
        "id": "d7bdcdeb.6c8a1",
        "type": "function",
        "z": "902d4972.d3b7a8",
        "name": "referenceDesignation",
        "func": "var myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {\n                \"location\": {\n                \"value\": \"<designation value>\",\n                \"local\": \"<local designation value>\",\n                \"parent\": {\n                    \"value\": \"<designation value>\",\n                    \"local\": \"<local designation value>\",\n                    \"oi4Identifier\": \"<oi4_identifier>\"\n                }\n                },\n                \"function\": {\n                    \"value\": \"<designation value>\",\n                    \"local\": \"<local designation value\",\n                    \"parent\": {\n                        \"value\": \"<designation value>\",\n                        \"local\": \"<local designation value>\",\n                        \"oi4Identifier\": \"<oi4_identifier>\"\n                    }\n                },\n                \"product\": {\n                    \"value\": \"<designation value>\",\n                    \"local\": \"<local designation value>\",\n                    \"parent\": {\n                        \"value\": \"<designation value>\",\n                        \"local\": \"<local designation value>\",\n                        \"oi4Identifier\": \"<oi4_identifier>\"\n                    }\n                }\n            }\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.referenceDesignation\");\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyDevDataSetWriterId\") + 14;\nmsg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"MyDevMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\nmsg.payload.Messages[0].Status = 2147876864;\n    //...as an example, here with \"BadEncodingError\", because this object might not be IEC conform yet...\n    //\"ErrorShorthand\": \"BadEncodingError\",\n    //\"ErrorCode\": \"0x80060000\",\n    //\"Errordescription\": \"Encoding halted because of invalid data in the objects being serialized.\"\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nmsg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/referenceDesignation/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 2040,
        "wires": [
            [
                "a6d20834.d6b6e8"
            ]
        ]
    },
    {
        "id": "1c0c25c4.6e332a",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "health",
        "links": [
            "2f19353c.53816a",
            "8a061c18.0cd43"
        ],
        "x": 935,
        "y": 480,
        "wires": []
    },
    {
        "id": "aed404ea.b5bfe8",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "mam",
        "links": [
            "2f19353c.53816a",
            "8a061c18.0cd43"
        ],
        "x": 935,
        "y": 320,
        "wires": []
    },
    {
        "id": "2f19353c.53816a",
        "type": "link in",
        "z": "902d4972.d3b7a8",
        "name": "mqtt out",
        "links": [
            "aed404ea.b5bfe8",
            "1c0c25c4.6e332a",
            "be877837.717fe8",
            "29a1ec3b.1782f4",
            "f19b56cd.897758",
            "8f7dd2ae.fe8b2",
            "3391409b.bc661",
            "a6d20834.d6b6e8",
            "9adca484.5dc678",
            "c40475daef1c6e32"
        ],
        "x": 995,
        "y": 320,
        "wires": [
            [
                "3851868e.d348aa",
                "3f63cc46.28f884"
            ]
        ]
    },
    {
        "id": "be877837.717fe8",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "data",
        "links": [
            "2f19353c.53816a",
            "8a061c18.0cd43"
        ],
        "x": 934,
        "y": 1178,
        "wires": []
    },
    {
        "id": "29a1ec3b.1782f4",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "metadata",
        "links": [
            "2f19353c.53816a",
            "8a061c18.0cd43"
        ],
        "x": 935,
        "y": 1380,
        "wires": []
    },
    {
        "id": "8f7dd2ae.fe8b2",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "event",
        "links": [
            "2f19353c.53816a",
            "8a061c18.0cd43"
        ],
        "x": 935,
        "y": 1599,
        "wires": []
    },
    {
        "id": "3391409b.bc661",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "interface",
        "links": [
            "2f19353c.53816a",
            "8a061c18.0cd43"
        ],
        "x": 935,
        "y": 1880,
        "wires": []
    },
    {
        "id": "a6d20834.d6b6e8",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "referenceDesignation",
        "links": [
            "2f19353c.53816a",
            "8a061c18.0cd43"
        ],
        "x": 935,
        "y": 2040,
        "wires": []
    },
    {
        "id": "b55f3d07.8380c",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "Attention: Not yet fully defined!",
        "info": "",
        "x": 460,
        "y": 1840,
        "wires": []
    },
    {
        "id": "ec78f897.e68998",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "Not relevant/useable for devices",
        "info": "",
        "x": 470,
        "y": 1720,
        "wires": []
    },
    {
        "id": "648d9609.a906b8",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "Not relevant/useable for devices",
        "info": "",
        "x": 470,
        "y": 1780,
        "wires": []
    },
    {
        "id": "c743dd36.97351",
        "type": "mqtt in",
        "z": "902d4972.d3b7a8",
        "name": "rtLicense",
        "topic": "",
        "qos": "0",
        "datatype": "auto",
        "broker": "c38c2dc5.8f31d",
        "nl": false,
        "rap": false,
        "inputs": 1,
        "x": 160,
        "y": 1020,
        "wires": [
            [
                "fed33513.c25fd8"
            ]
        ]
    },
    {
        "id": "9c5e3e59.24fd5",
        "type": "function",
        "z": "902d4972.d3b7a8",
        "name": "rtLicense",
        "func": "var myCorrelationId = \"\";\n\n/* we got an get-topic from somewere */\nif (msg.payload.MessageId !== undefined)\n{\n   /* we got an virgin request from somewere */\n   if (msg.payload.correlationId === \"\")\n   {\n       myCorrelationId = msg.payload.MessageId;\n   }\n   /* we got an request including existing correlationId from somewere */\n   else\n   {\n       myCorrelationId = msg.payload.correlationId;\n   }\n}\n\n/* We got fresh data direct from sensor */\nif (msg.payload.Payload !== undefined)\n{\n    var myPayload = msg.payload.Payload;\n}\n\nmsg.payload = {\n    \"MessageId\": \"\",\n    \"MessageType\": \"ua-data\",\n    \"PublisherId\": \"\",\n    \"DataSetClassId\": \"\",\n    \"Messages\": [\n        {\n            \"DataSetWriterId\": 0,\n            \"filter\": \"\",\n            \"subResource\": \"\",\n            \"Payload\": {}\n        }\n    ]\n};\n\nmsg.payload.PublisherId = global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\");\nmsg.payload.DataSetClassId = global.get(\"DSCI.rtLicense\");\nmsg.payload.correlationId = myCorrelationId;\n\nvar timestamp = Date.now();\nmsg.payload.MessageId = timestamp + '-' + msg.payload.PublisherId;\n\n//Add the correlationId only if necessary, instead of including an empty one (which is allowed)\nif (myCorrelationId !== \"\") {\n    msg.payload.correlationId = myCorrelationId;\n}\n\nmsg.payload.Messages[0].DataSetWriterId = global.get(\"MyDevDataSetWriterId\") + 6;\n//msg.payload.Messages[0].filter = \"\";\nmsg.payload.Messages[0].subResource = global.get(\"MyDevMAM1.ProductInstanceUri\");\n\n//See for yourself if you want to add \"SequenceNumber\" - maybe not relevant for this resource\nvar seqCnt = context.get(\"SeqCnt\") || 0;\nseqCnt += 1;\nmsg.payload.Messages[0].SequenceNumber = seqCnt;\ncontext.set(\"SeqCnt\", seqCnt);\n\n//Add the \"Status\" if !== 0, otherwise do not add the \"Status\"\n//msg.payload.Messages[0].Ststus = 0;\n\n//See for yourself if you want to add \"Timestamp\" - maybe not relevant for this resource\nmyLastUpdateTime = new Date().toISOString();\nmsg.payload.Messages[0].Timestamp = myLastUpdateTime;\n\nif (myPayload !== undefined)\n{\n    msg.payload.Messages[0].Payload = myPayload;\n}\n\nmsg.topic = \"oi4/\" + global.get(\"MyServiceType1\") + \"/\" + global.get(\"MyAppMAM1.ProductInstanceUri\") + \"/pub/rtLicense/\" + global.get(\"MyDevMAM1.ProductInstanceUri\");\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 1020,
        "wires": [
            [
                "9adca484.5dc678"
            ]
        ]
    },
    {
        "id": "eb6da960.f56198",
        "type": "inject",
        "z": "902d4972.d3b7a8",
        "name": "pub rtLicense",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0/1/2/3/4/5/6/7/8/9/10/11",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1080,
        "wires": [
            [
                "9c5e3e59.24fd5"
            ]
        ]
    },
    {
        "id": "fed33513.c25fd8",
        "type": "json",
        "z": "902d4972.d3b7a8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 1020,
        "wires": [
            [
                "9c5e3e59.24fd5"
            ]
        ]
    },
    {
        "id": "9adca484.5dc678",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "rtLicense",
        "links": [
            "2f19353c.53816a",
            "8a061c18.0cd43"
        ],
        "x": 936,
        "y": 1018,
        "wires": []
    },
    {
        "id": "1251a03a.f1543",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "Attention: Not yet fully defined!",
        "info": "",
        "x": 480,
        "y": 2000,
        "wires": []
    },
    {
        "id": "1ed44f3442d40ce7",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "mam_topic",
        "mode": "link",
        "links": [
            "9c6f4f5054ea729e"
        ],
        "x": 455,
        "y": 80,
        "wires": []
    },
    {
        "id": "0253f418fbc73a61",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "health_topic",
        "mode": "link",
        "links": [
            "ba7e1996b3b2f3d4"
        ],
        "x": 455,
        "y": 100,
        "wires": []
    },
    {
        "id": "2a3098f7d94605b2",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "rtLicense_topic",
        "mode": "link",
        "links": [
            "33e858320995a0fb"
        ],
        "x": 455,
        "y": 120,
        "wires": []
    },
    {
        "id": "913dbe85f6365a5e",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "data_topic",
        "mode": "link",
        "links": [
            "9450c32a5c26d5e9"
        ],
        "x": 455,
        "y": 140,
        "wires": []
    },
    {
        "id": "eb545315898a1cb6",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "metadata_topic",
        "mode": "link",
        "links": [
            "6a284e8dd343fad8"
        ],
        "x": 455,
        "y": 160,
        "wires": []
    },
    {
        "id": "6f5bdd2807684a09",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "profile_topic",
        "mode": "link",
        "links": [
            "4a0539bd5c61d730"
        ],
        "x": 455,
        "y": 180,
        "wires": []
    },
    {
        "id": "fa267b4a9896cd9c",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "interfaces_topic",
        "mode": "link",
        "links": [
            "e2c1e8e1a9d2c3de"
        ],
        "x": 455,
        "y": 200,
        "wires": []
    },
    {
        "id": "82675677b7751379",
        "type": "link out",
        "z": "902d4972.d3b7a8",
        "name": "referenceDesignation_topic",
        "mode": "link",
        "links": [
            "aeee6d3daddf8c5c"
        ],
        "x": 455,
        "y": 220,
        "wires": []
    },
    {
        "id": "9c6f4f5054ea729e",
        "type": "link in",
        "z": "902d4972.d3b7a8",
        "name": "mam_in",
        "links": [
            "1ed44f3442d40ce7"
        ],
        "x": 55,
        "y": 320,
        "wires": [
            [
                "f7736c44.3fbcf"
            ]
        ]
    },
    {
        "id": "ba7e1996b3b2f3d4",
        "type": "link in",
        "z": "902d4972.d3b7a8",
        "name": "health_in",
        "links": [
            "0253f418fbc73a61"
        ],
        "x": 55,
        "y": 480,
        "wires": [
            [
                "3601528c.9e3b8e"
            ]
        ]
    },
    {
        "id": "33e858320995a0fb",
        "type": "link in",
        "z": "902d4972.d3b7a8",
        "name": "rtLicense_in",
        "links": [
            "2a3098f7d94605b2"
        ],
        "x": 55,
        "y": 1020,
        "wires": [
            [
                "c743dd36.97351"
            ]
        ]
    },
    {
        "id": "9450c32a5c26d5e9",
        "type": "link in",
        "z": "902d4972.d3b7a8",
        "name": "data_in",
        "links": [
            "913dbe85f6365a5e"
        ],
        "x": 54,
        "y": 1180,
        "wires": [
            [
                "389c1f76.3ddfb"
            ]
        ]
    },
    {
        "id": "6a284e8dd343fad8",
        "type": "link in",
        "z": "902d4972.d3b7a8",
        "name": "metadata_in",
        "links": [
            "eb545315898a1cb6"
        ],
        "x": 55,
        "y": 1380,
        "wires": [
            [
                "ad872434.89e8b8"
            ]
        ]
    },
    {
        "id": "4a0539bd5c61d730",
        "type": "link in",
        "z": "902d4972.d3b7a8",
        "name": "profile_in",
        "links": [
            "6f5bdd2807684a09"
        ],
        "x": 55,
        "y": 1600,
        "wires": [
            [
                "429b060c.f25438"
            ]
        ]
    },
    {
        "id": "e2c1e8e1a9d2c3de",
        "type": "link in",
        "z": "902d4972.d3b7a8",
        "name": "interfaces_in",
        "links": [
            "fa267b4a9896cd9c"
        ],
        "x": 55,
        "y": 1880,
        "wires": [
            [
                "e2484135.df18f"
            ]
        ]
    },
    {
        "id": "aeee6d3daddf8c5c",
        "type": "link in",
        "z": "902d4972.d3b7a8",
        "name": "referenceDesignation_in",
        "links": [
            "82675677b7751379"
        ],
        "x": 55,
        "y": 2040,
        "wires": [
            [
                "b1d9a8f6.65d738"
            ]
        ]
    },
    {
        "id": "ef88fe0165ed2f79",
        "type": "comment",
        "z": "902d4972.d3b7a8",
        "name": "Not yet clear, how to use events on device-level...",
        "info": "",
        "x": 520,
        "y": 1500,
        "wires": []
    }
]